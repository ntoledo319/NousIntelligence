# NOUS Functions Reference

Generated: 2025-06-28T23:51:54.459956

## All Functions (479 total)


## app_optimized.py

### create_optimized_app

- **Category**: utilities
- **Line**: 12
- **Documentation**: Create production-optimized Flask application


## build_test.py

### test_build

- **Category**: utilities
- **Line**: 10
- **Documentation**: Test that the application builds successfully


## codebase_analysis_report.py

### __init__

- **Category**: utilities
- **Line**: 17
- **Arguments**: self

### _analyze_configuration

- **Category**: ai_services
- **Line**: 247
- **Arguments**: self
- **Documentation**: Analyze configuration management

### _analyze_database_models

- **Category**: ai_services
- **Line**: 212
- **Arguments**: self
- **Documentation**: Analyze database model definitions

### _analyze_dependencies

- **Category**: ai_services
- **Line**: 82
- **Arguments**: self
- **Documentation**: Analyze dependency configuration and issues

### _analyze_file_structure

- **Category**: ai_services
- **Line**: 55
- **Arguments**: self
- **Documentation**: Analyze file organization and structure

### _analyze_imports

- **Category**: ai_services
- **Line**: 121
- **Arguments**: self
- **Documentation**: Analyze import issues across the codebase

### _analyze_neglected_areas

- **Category**: ai_services
- **Line**: 378
- **Arguments**: self
- **Documentation**: Analyze often neglected areas

### _analyze_performance

- **Category**: ai_services
- **Line**: 312
- **Arguments**: self
- **Documentation**: Analyze performance issues

### _analyze_route_functionality

- **Category**: core_features
- **Line**: 169
- **Arguments**: self
- **Documentation**: Analyze route definitions and functionality

### _analyze_security

- **Category**: ai_services
- **Line**: 282
- **Arguments**: self
- **Documentation**: Analyze security configuration

### _calculate_health_score

- **Category**: health_monitoring
- **Line**: 463
- **Arguments**: self
- **Documentation**: Calculate overall codebase health score

### _generate_markdown_report

- **Category**: utilities
- **Line**: 564
- **Arguments**: self
- **Documentation**: Generate human-readable markdown report

### _generate_recommendations

- **Category**: utilities
- **Line**: 491
- **Arguments**: self
- **Documentation**: Generate specific recommendations

### _generate_summary

- **Category**: utilities
- **Line**: 446
- **Arguments**: self
- **Documentation**: Generate analysis summary

### _test_application_startup

- **Category**: utilities
- **Line**: 341
- **Arguments**: self
- **Documentation**: Test if the application can start

### analyze_codebase

- **Category**: ai_services
- **Line**: 34
- **Arguments**: self
- **Documentation**: Run comprehensive codebase analysis

### generate_report

- **Category**: utilities
- **Line**: 549
- **Arguments**: self
- **Documentation**: Generate and save analysis report

### main

- **Category**: ai_services
- **Line**: 676
- **Documentation**: Run the complete codebase analysis


## complete_issue_scanner.py

### __init__

- **Category**: utilities
- **Line**: 17
- **Arguments**: self

### _accessibility_check

- **Category**: health_monitoring
- **Line**: 785
- **Arguments**: self
- **Documentation**: Check accessibility compliance

### _analyze_config_file

- **Category**: ai_services
- **Line**: 427
- **Arguments**: self, file_path
- **Documentation**: Analyze a specific configuration file

### _analyze_dependencies

- **Category**: ai_services
- **Line**: 612
- **Arguments**: self
- **Documentation**: Analyze dependency tree for issues

### _analyze_functions

- **Category**: ai_services
- **Line**: 228
- **Arguments**: self, file_path, content
- **Documentation**: Analyze all functions for issues

### _analyze_python_file

- **Category**: ai_services
- **Line**: 79
- **Arguments**: self, file_path
- **Documentation**: Comprehensive analysis of a single Python file

### _analyze_template

- **Category**: ai_services
- **Line**: 525
- **Arguments**: self, file_path
- **Documentation**: Analyze HTML template for issues

### _calculate_similarity

- **Category**: utilities
- **Line**: 755
- **Arguments**: self, text1, text2
- **Documentation**: Calculate text similarity (simplified)

### _check_performance_issues

- **Category**: health_monitoring
- **Line**: 358
- **Arguments**: self, file_path, content
- **Documentation**: Check for performance issues

### _check_pyproject_toml

- **Category**: health_monitoring
- **Line**: 447
- **Arguments**: self, content
- **Documentation**: Check pyproject.toml for issues

### _check_python_config

- **Category**: health_monitoring
- **Line**: 495
- **Arguments**: self, file_path, content
- **Documentation**: Check Python configuration files

### _check_replit_toml

- **Category**: health_monitoring
- **Line**: 479
- **Arguments**: self, content
- **Documentation**: Check replit.toml for deployment issues

### _check_routes

- **Category**: core_features
- **Line**: 664
- **Arguments**: self
- **Documentation**: Check route functionality

### _check_security_issues

- **Category**: health_monitoring
- **Line**: 321
- **Arguments**: self, file_path, content
- **Documentation**: Check for security vulnerabilities

### _deployment_readiness

- **Category**: utilities
- **Line**: 760
- **Arguments**: self
- **Documentation**: Check deployment readiness

### _detect_dead_code

- **Category**: utilities
- **Line**: 386
- **Arguments**: self, file_path, content
- **Documentation**: Detect potentially dead or unused code

### _detect_models

- **Category**: utilities
- **Line**: 297
- **Arguments**: self, file_path, content
- **Documentation**: Detect and validate database models

### _detect_routes

- **Category**: core_features
- **Line**: 265
- **Arguments**: self, file_path, content
- **Documentation**: Detect and validate route definitions

### _module_exists

- **Category**: utilities
- **Line**: 202
- **Arguments**: self, module_name
- **Documentation**: Check if a module exists and can be imported

### _performance_analysis

- **Category**: utilities
- **Line**: 730
- **Arguments**: self
- **Documentation**: Performance analysis

### _scan_configuration_files

- **Category**: utilities
- **Line**: 414
- **Arguments**: self
- **Documentation**: Scan configuration files for issues

### _scan_database_structure

- **Category**: utilities
- **Line**: 590
- **Arguments**: self
- **Documentation**: Scan database structure for issues

### _scan_python_files

- **Category**: utilities
- **Line**: 66
- **Arguments**: self
- **Documentation**: Scan every Python file for issues

### _scan_static_assets

- **Category**: utilities
- **Line**: 562
- **Arguments**: self
- **Documentation**: Scan static assets for issues

### _scan_templates

- **Category**: utilities
- **Line**: 513
- **Arguments**: self
- **Documentation**: Scan HTML templates for issues

### _security_audit

- **Category**: security
- **Line**: 706
- **Arguments**: self
- **Documentation**: Comprehensive security audit

### _test_imports

- **Category**: utilities
- **Line**: 634
- **Arguments**: self
- **Documentation**: Test all imports to identify failures

### _validate_imports

- **Category**: utilities
- **Line**: 153
- **Arguments**: self, file_path, content
- **Documentation**: Validate all imports in the file

### _validate_models

- **Category**: utilities
- **Line**: 685
- **Arguments**: self
- **Documentation**: Validate database models

### generate_complete_report

- **Category**: utilities
- **Line**: 806
- **Arguments**: self
- **Documentation**: Generate comprehensive report of all issues

### main

- **Category**: ai_services
- **Line**: 901
- **Documentation**: Run complete issue scan

### scan_everything

- **Category**: utilities
- **Line**: 45
- **Arguments**: self
- **Documentation**: Comprehensive scan of entire codebase


## comprehensive_feature_documenter.py

### __init__

- **Category**: utilities
- **Line**: 17
- **Arguments**: self

### _analyze_python_file

- **Category**: ai_services
- **Line**: 123
- **Arguments**: self, file_path
- **Documentation**: Analyze a single Python file for features

### _categorize_features

- **Category**: utilities
- **Line**: 368
- **Arguments**: self
- **Documentation**: Categorize all discovered features

### _categorize_function

- **Category**: utilities
- **Line**: 374
- **Arguments**: self, func_name, file_path
- **Documentation**: Categorize a function based on name and location

### _categorize_route

- **Category**: core_features
- **Line**: 437
- **Arguments**: self, route_path
- **Documentation**: Categorize a route based on its path

### _categorize_template

- **Category**: utilities
- **Line**: 450
- **Arguments**: self, template_name
- **Documentation**: Categorize a template based on its name

### _determine_api_type

- **Category**: integrations
- **Line**: 472
- **Arguments**: self, route_path
- **Documentation**: Determine the type of API endpoint

### _determine_asset_type

- **Category**: utilities
- **Line**: 485
- **Arguments**: self, filename
- **Documentation**: Determine the type of static asset

### _determine_class_type

- **Category**: utilities
- **Line**: 461
- **Arguments**: self, class_name, file_path
- **Documentation**: Determine the type of a class

### _determine_config_type

- **Category**: utilities
- **Line**: 499
- **Arguments**: self, filename
- **Documentation**: Determine the type of configuration file

### _extract_from_ast

- **Category**: utilities
- **Line**: 140
- **Arguments**: self, tree, file_path
- **Documentation**: Extract functions and classes using AST

### _extract_routes_from_file

- **Category**: core_features
- **Line**: 238
- **Arguments**: self, file_path
- **Documentation**: Extract route definitions from a file

### _extract_with_regex

- **Category**: utilities
- **Line**: 530
- **Arguments**: self, content, file_path
- **Documentation**: Fallback regex-based extraction

### _generate_api_md

- **Category**: integrations
- **Line**: 671
- **Arguments**: self, docs
- **Documentation**: Generate complete API documentation

### _generate_features_md

- **Category**: utilities
- **Line**: 626
- **Arguments**: self, docs
- **Documentation**: Generate complete features markdown

### _generate_functions_md

- **Category**: utilities
- **Line**: 694
- **Arguments**: self, docs
- **Documentation**: Generate functions reference documentation

### _generate_markdown_docs

- **Category**: utilities
- **Line**: 612
- **Arguments**: self, docs
- **Documentation**: Generate markdown documentation files

### _is_api_function

- **Category**: integrations
- **Line**: 524
- **Arguments**: self, func_name, file_path
- **Documentation**: Check if function is an API function

### _is_route_function

- **Category**: core_features
- **Line**: 510
- **Arguments**: self, node
- **Documentation**: Check if a function is a route handler

### _is_route_function_name

- **Category**: core_features
- **Line**: 519
- **Arguments**: self, func_name
- **Documentation**: Check if function name suggests it's a route

### _process_class

- **Category**: utilities
- **Line**: 181
- **Arguments**: self, node, file_path
- **Documentation**: Process a class definition

### _process_function

- **Category**: utilities
- **Line**: 150
- **Arguments**: self, node, file_path
- **Documentation**: Process a function definition

### _scan_api_endpoints

- **Category**: core_features
- **Line**: 275
- **Arguments**: self
- **Documentation**: Scan for API endpoint definitions

### _scan_configurations

- **Category**: utilities
- **Line**: 336
- **Arguments**: self
- **Documentation**: Scan configuration files

### _scan_extensions

- **Category**: utilities
- **Line**: 350
- **Arguments**: self
- **Documentation**: Scan extensions and plugins

### _scan_models

- **Category**: utilities
- **Line**: 285
- **Arguments**: self
- **Documentation**: Scan database models

### _scan_python_files

- **Category**: utilities
- **Line**: 89
- **Arguments**: self
- **Documentation**: Scan all Python files for functions and classes

### _scan_routes

- **Category**: core_features
- **Line**: 218
- **Arguments**: self
- **Documentation**: Scan route definitions across the application

### _scan_services

- **Category**: integrations
- **Line**: 298
- **Arguments**: self
- **Documentation**: Scan service layer components

### _scan_static_assets

- **Category**: utilities
- **Line**: 322
- **Arguments**: self
- **Documentation**: Scan static assets

### _scan_templates

- **Category**: utilities
- **Line**: 307
- **Arguments**: self
- **Documentation**: Scan HTML templates

### generate_comprehensive_documentation

- **Category**: utilities
- **Line**: 568
- **Arguments**: self
- **Documentation**: Generate complete feature documentation

### main

- **Category**: ai_services
- **Line**: 725
- **Documentation**: Run comprehensive feature documentation

### save_documentation

- **Category**: utilities
- **Line**: 597
- **Arguments**: self, docs
- **Documentation**: Save documentation to files

### scan_entire_codebase

- **Category**: utilities
- **Line**: 53
- **Arguments**: self
- **Documentation**: Comprehensive scan of all codebase components


## comprehensive_optimization_analysis.py

### __init__

- **Category**: utilities
- **Line**: 18
- **Arguments**: self

### _analyze_architecture

- **Category**: ai_services
- **Line**: 383
- **Arguments**: self
- **Documentation**: Analyze architectural patterns and issues

### _analyze_code_structure

- **Category**: ai_services
- **Line**: 203
- **Arguments**: self
- **Documentation**: Analyze code structure and organization

### _analyze_dependencies

- **Category**: ai_services
- **Line**: 146
- **Arguments**: self
- **Documentation**: Analyze dependency configuration and issues

### _analyze_neglected_areas

- **Category**: ai_services
- **Line**: 306
- **Arguments**: self
- **Documentation**: Analyze often neglected areas

### _analyze_performance_patterns

- **Category**: ai_services
- **Line**: 257
- **Arguments**: self
- **Documentation**: Analyze performance bottlenecks and optimization opportunities

### _analyze_security_and_quality

- **Category**: ai_services
- **Line**: 426
- **Arguments**: self
- **Documentation**: Analyze security and code quality issues

### _collect_baseline_metrics

- **Category**: analytics
- **Line**: 73
- **Arguments**: self
- **Documentation**: Collect baseline codebase metrics

### _create_executive_summary

- **Category**: utilities
- **Line**: 523
- **Arguments**: self
- **Documentation**: Create executive summary of findings

### _generate_optimization_recommendations

- **Category**: utilities
- **Line**: 468
- **Arguments**: self
- **Documentation**: Generate specific optimization recommendations

### main

- **Category**: ai_services
- **Line**: 558
- **Documentation**: Run comprehensive optimization analysis

### run_comprehensive_analysis

- **Category**: utilities
- **Line**: 38
- **Arguments**: self
- **Documentation**: Execute all analysis phases


## core/chat/dispatcher.py

### __init__

- **Category**: utilities
- **Line**: 13
- **Arguments**: self

### _generate_stub_code

- **Category**: utilities
- **Line**: 166
- **Arguments**: self, handler_info
- **Documentation**: Generate stub code for a handler

### add_middleware

- **Category**: utilities
- **Line**: 18
- **Arguments**: self, middleware_func
- **Documentation**: Add middleware to the dispatcher

### generate_handler_stubs

- **Category**: core_features
- **Line**: 151
- **Arguments**: self
- **Documentation**: Generate TODO stubs for missing handlers

### get_stats

- **Category**: utilities
- **Line**: 188
- **Arguments**: self
- **Documentation**: Get dispatcher statistics

### set_fallback_handler

- **Category**: core_features
- **Line**: 22
- **Arguments**: self, handler
- **Documentation**: Set fallback handler for unmatched messages


## core/chat/handler_registry.py

### __init__

- **Category**: utilities
- **Line**: 13
- **Arguments**: self

### _calculate_match_score

- **Category**: utilities
- **Line**: 104
- **Arguments**: self, message, patterns
- **Documentation**: Calculate how well a message matches intent patterns

### _extract_intent_patterns

- **Category**: utilities
- **Line**: 46
- **Arguments**: self, function_name
- **Documentation**: Extract intent patterns from function name

### find_handler

- **Category**: core_features
- **Line**: 88
- **Arguments**: self, message
- **Documentation**: Find the best handler for a message

### get_handler_info

- **Category**: core_features
- **Line**: 133
- **Arguments**: self, handler_name
- **Documentation**: Get information about a specific handler

### list_handlers

- **Category**: core_features
- **Line**: 129
- **Arguments**: self
- **Documentation**: List all registered handlers

### load_codegraph

- **Category**: utilities
- **Line**: 17
- **Arguments**: self
- **Documentation**: Load the code graph to find handlers

### register_handler

- **Category**: core_features
- **Line**: 76
- **Arguments**: self, intent_patterns, handler_func
- **Documentation**: Manually register a handler function

### register_handler_from_codegraph

- **Category**: core_features
- **Line**: 30
- **Arguments**: self, handler_info
- **Documentation**: Register a handler from codegraph data


## execute_complete_optimization.py

### __init__

- **Category**: utilities
- **Line**: 14
- **Arguments**: self

### consolidate_ai_services

- **Category**: ai_services
- **Line**: 504
- **Arguments**: self
- **Documentation**: Consolidate AI-related services

### consolidate_google_services

- **Category**: integrations
- **Line**: 194
- **Arguments**: self
- **Documentation**: Consolidate Google-related services

### consolidate_helper_utilities

- **Category**: utilities
- **Line**: 727
- **Arguments**: self
- **Documentation**: Consolidate helper utilities

### consolidate_security_services

- **Category**: security
- **Line**: 926
- **Arguments**: self
- **Documentation**: Consolidate security-related services

### consolidate_spotify_services

- **Category**: integrations
- **Line**: 317
- **Arguments**: self
- **Documentation**: Consolidate Spotify-related services

### execute_all_phases

- **Category**: utilities
- **Line**: 29
- **Arguments**: self
- **Documentation**: Execute complete optimization plan

### generate_completion_report

- **Category**: utilities
- **Line**: 1181
- **Arguments**: self
- **Documentation**: Generate final optimization completion report

### log_change

- **Category**: utilities
- **Line**: 19
- **Arguments**: self, phase, action, details
- **Documentation**: Log optimization changes

### main

- **Category**: ai_services
- **Line**: 1228
- **Documentation**: Execute complete optimization

### phase1_emergency_cleanup

- **Category**: utilities
- **Line**: 55
- **Arguments**: self
- **Documentation**: Phase 1: Critical file system cleanup

### phase2_dependency_optimization

- **Category**: utilities
- **Line**: 91
- **Arguments**: self
- **Documentation**: Phase 2: Fix duplicate dependencies

### phase3_utils_consolidation

- **Category**: utilities
- **Line**: 168
- **Arguments**: self
- **Documentation**: Phase 3: Consolidate utility files

### phase4_routes_optimization

- **Category**: core_features
- **Line**: 953
- **Arguments**: self
- **Documentation**: Phase 4: Optimize routes structure

### phase5_performance_enhancements

- **Category**: utilities
- **Line**: 1003
- **Arguments**: self
- **Documentation**: Phase 5: Performance optimizations

### phase6_architecture_cleanup

- **Category**: utilities
- **Line**: 1107
- **Arguments**: self
- **Documentation**: Phase 6: Final architecture cleanup


## full_spectrum_analysis.py

### __init__

- **Category**: utilities
- **Line**: 17
- **Arguments**: self

### _analyze_architecture

- **Category**: ai_services
- **Line**: 345
- **Arguments**: self
- **Documentation**: Analyze architectural patterns and design

### _analyze_code_structure

- **Category**: ai_services
- **Line**: 140
- **Arguments**: self
- **Documentation**: Deep analysis of code structure and organization

### _analyze_dependencies_security

- **Category**: ai_services
- **Line**: 276
- **Arguments**: self
- **Documentation**: Analyze dependencies and security implications

### _analyze_infrastructure

- **Category**: ai_services
- **Line**: 56
- **Arguments**: self
- **Documentation**: Analyze infrastructure, deployment, and configuration

### _analyze_neglected_areas

- **Category**: ai_services
- **Line**: 435
- **Arguments**: self
- **Documentation**: Deep dive into often neglected areas

### _analyze_performance

- **Category**: ai_services
- **Line**: 220
- **Arguments**: self
- **Documentation**: Analyze performance bottlenecks and optimization opportunities

### _generate_comprehensive_report

- **Category**: utilities
- **Line**: 509
- **Arguments**: self
- **Documentation**: Generate comprehensive optimization report

### analyze_everything

- **Category**: ai_services
- **Line**: 28
- **Arguments**: self
- **Documentation**: Comprehensive analysis of all codebase aspects

### main

- **Category**: ai_services
- **Line**: 637
- **Documentation**: Execute full spectrum analysis


## main.py

### main

- **Category**: ai_services
- **Line**: 32
- **Documentation**: Optimized main entry point


## models/aa_content_models.py

### create_daily_content_schedule

- **Category**: ai_services
- **Line**: 156
- **Documentation**: Create a full year's worth of daily content

### get_daily_content

- **Category**: ai_services
- **Line**: 127
- **Arguments**: day_of_year
- **Documentation**: Get daily AA content for a specific day

### get_step_content

- **Category**: utilities
- **Line**: 138
- **Arguments**: step_number
- **Documentation**: Get content for a specific step

### get_user_progress

- **Category**: utilities
- **Line**: 146
- **Arguments**: user_id, content_type
- **Documentation**: Get user's progress through AA content


## models/language_learning_models.py

### create_default_languages

- **Category**: utilities
- **Line**: 214
- **Documentation**: Create default set of popular languages

### get_daily_vocabulary

- **Category**: ai_services
- **Line**: 164
- **Arguments**: language_id, difficulty_level, category, limit
- **Documentation**: Get vocabulary words for daily practice

### get_user_languages

- **Category**: utilities
- **Line**: 159
- **Arguments**: user_id
- **Documentation**: Get all languages a user is learning

### update_language_progress

- **Category**: utilities
- **Line**: 177
- **Arguments**: user_id, language_id, session_data
- **Documentation**: Update user's overall language progress after a session


## models/product_models.py

### add_price_history

- **Category**: utilities
- **Line**: 276
- **Arguments**: product_id, price, source
- **Documentation**: Add a price history entry

### add_to_wishlist

- **Category**: utilities
- **Line**: 323
- **Arguments**: user_id, product_id, wishlist_id
- **Documentation**: Add a product to user's wishlist

### create_price_alert

- **Category**: notifications
- **Line**: 301
- **Arguments**: user_id, product_id, alert_type
- **Documentation**: Create a price alert for a user

### create_product_from_amazon

- **Category**: utilities
- **Line**: 240
- **Arguments**: asin, product_data
- **Documentation**: Create a product record from Amazon data

### get_deal_recommendations

- **Category**: utilities
- **Line**: 455
- **Arguments**: user_id, limit
- **Documentation**: Get personalized deal recommendations

### get_price_trends

- **Category**: utilities
- **Line**: 370
- **Arguments**: product_id, days
- **Documentation**: Get price trends for a product

### initialize_product_categories

- **Category**: utilities
- **Line**: 476
- **Documentation**: Initialize default product categories

### search_products

- **Category**: search
- **Line**: 416
- **Arguments**: query, category_id, price_range, limit
- **Documentation**: Search products with filters


## quick_optimization_analysis.py

### analyze_codebase

- **Category**: ai_services
- **Line**: 12
- **Documentation**: Quick analysis of key optimization areas

### main

- **Category**: ai_services
- **Line**: 239
- **Documentation**: Run analysis and generate report

### print_report

- **Category**: utilities
- **Line**: 165
- **Arguments**: analysis
- **Documentation**: Print formatted analysis report


## repositories/analytics_repository.py

### create_goal

- **Category**: utilities
- **Line**: 78
- **Arguments**: user_id, goal_data
- **Decorators**: staticmethod
- **Documentation**: Create a new goal

### create_insight

- **Category**: utilities
- **Line**: 107
- **Arguments**: user_id, insight_data
- **Decorators**: staticmethod
- **Documentation**: Create a new insight

### get_activity_summary

- **Category**: utilities
- **Line**: 42
- **Arguments**: user_id, days
- **Decorators**: staticmethod
- **Documentation**: Get activity summary for the last N days

### get_insights_by_priority

- **Category**: analytics
- **Line**: 124
- **Arguments**: user_id, limit
- **Decorators**: staticmethod
- **Documentation**: Get insights ordered by priority

### get_user_activities

- **Category**: utilities
- **Line**: 23
- **Arguments**: user_id, limit, start_date, end_date
- **Decorators**: staticmethod
- **Documentation**: Get user activities with optional filters

### get_user_goals

- **Category**: utilities
- **Line**: 86
- **Arguments**: user_id, status
- **Decorators**: staticmethod
- **Documentation**: Get user goals, optionally filtered by status

### get_user_insights

- **Category**: analytics
- **Line**: 115
- **Arguments**: user_id, category, limit
- **Decorators**: staticmethod
- **Documentation**: Get user insights

### log_user_activity

- **Category**: utilities
- **Line**: 15
- **Arguments**: user_id, activity_data
- **Decorators**: staticmethod
- **Documentation**: Log a user activity

### update_goal_progress

- **Category**: utilities
- **Line**: 94
- **Arguments**: goal_id, progress
- **Decorators**: staticmethod
- **Documentation**: Update goal progress


## repositories/health_repository.py

### create_aa_content

- **Category**: utilities
- **Line**: 88
- **Arguments**: content_data
- **Decorators**: staticmethod
- **Documentation**: Create new AA content entry

### create_crisis_resource

- **Category**: utilities
- **Line**: 105
- **Arguments**: resource_data
- **Decorators**: staticmethod
- **Documentation**: Create a new crisis resource

### create_dbt_skill_log

- **Category**: utilities
- **Line**: 19
- **Arguments**: user_id, skill_data
- **Decorators**: staticmethod
- **Documentation**: Create a new DBT skill log entry

### create_diary_card

- **Category**: utilities
- **Line**: 44
- **Arguments**: user_id, diary_data
- **Decorators**: staticmethod
- **Documentation**: Create a new diary card entry

### create_emotion_track

- **Category**: analytics
- **Line**: 61
- **Arguments**: user_id, emotion_data
- **Decorators**: staticmethod
- **Documentation**: Create a new emotion tracking entry

### get_aa_chapter

- **Category**: utilities
- **Line**: 83
- **Arguments**: chapter_number
- **Decorators**: staticmethod
- **Documentation**: Get content from specific AA chapter

### get_crisis_resources

- **Category**: utilities
- **Line**: 97
- **Arguments**: location
- **Decorators**: staticmethod
- **Documentation**: Get crisis resources, optionally filtered by location

### get_dbt_skill_recommendations

- **Category**: utilities
- **Line**: 35
- **Arguments**: situation_type, limit
- **Decorators**: staticmethod
- **Documentation**: Get DBT skill recommendations

### get_user_dbt_skills

- **Category**: utilities
- **Line**: 27
- **Arguments**: user_id, limit
- **Decorators**: staticmethod
- **Documentation**: Get DBT skills for a user

### get_user_diary_cards

- **Category**: utilities
- **Line**: 52
- **Arguments**: user_id, limit
- **Decorators**: staticmethod
- **Documentation**: Get diary cards for a user

### get_user_emotion_tracks

- **Category**: analytics
- **Line**: 69
- **Arguments**: user_id, limit
- **Decorators**: staticmethod
- **Documentation**: Get emotion tracks for a user

### search_aa_content

- **Category**: search
- **Line**: 78
- **Arguments**: query, limit
- **Decorators**: staticmethod
- **Documentation**: Search AA Big Book content


## repositories/language_learning_repository.py

### add_grammar_rule

- **Category**: utilities
- **Line**: 67
- **Arguments**: user_id, grammar_data
- **Decorators**: staticmethod
- **Documentation**: Add new grammar rule

### add_vocabulary

- **Category**: utilities
- **Line**: 39
- **Arguments**: user_id, vocab_data
- **Decorators**: staticmethod
- **Documentation**: Add new vocabulary item

### create_language_goal

- **Category**: utilities
- **Line**: 112
- **Arguments**: user_id, goal_data
- **Decorators**: staticmethod
- **Documentation**: Create a new language learning goal

### create_session

- **Category**: utilities
- **Line**: 18
- **Arguments**: user_id, session_data
- **Decorators**: staticmethod
- **Documentation**: Create a new learning session

### get_user_grammar

- **Category**: utilities
- **Line**: 75
- **Arguments**: user_id, language
- **Decorators**: staticmethod
- **Documentation**: Get grammar rules for a user

### get_user_language_goals

- **Category**: utilities
- **Line**: 120
- **Arguments**: user_id, language, status
- **Decorators**: staticmethod
- **Documentation**: Get language goals for a user

### get_user_progress

- **Category**: utilities
- **Line**: 103
- **Arguments**: user_id, language
- **Decorators**: staticmethod
- **Documentation**: Get learning progress for a user

### get_user_sessions

- **Category**: utilities
- **Line**: 26
- **Arguments**: user_id, language, limit
- **Decorators**: staticmethod
- **Documentation**: Get learning sessions for a user

### get_user_vocabulary

- **Category**: utilities
- **Line**: 47
- **Arguments**: user_id, language, difficulty
- **Decorators**: staticmethod
- **Documentation**: Get vocabulary for a user

### get_vocabulary_for_review

- **Category**: core_features
- **Line**: 58
- **Arguments**: user_id, language, limit
- **Decorators**: staticmethod
- **Documentation**: Get vocabulary items that need review

### update_goal_progress

- **Category**: utilities
- **Line**: 131
- **Arguments**: goal_id, progress
- **Decorators**: staticmethod
- **Documentation**: Update language goal progress

### update_progress

- **Category**: utilities
- **Line**: 84
- **Arguments**: user_id, progress_data
- **Decorators**: staticmethod
- **Documentation**: Update learning progress


## repositories/user_repository.py

### create_user

- **Category**: utilities
- **Line**: 13
- **Arguments**: user_data
- **Decorators**: staticmethod
- **Documentation**: Create a new user

### delete_user

- **Category**: utilities
- **Line**: 50
- **Arguments**: user_id
- **Decorators**: staticmethod
- **Documentation**: Delete user by ID

### get_all_users

- **Category**: utilities
- **Line**: 31
- **Arguments**: limit
- **Decorators**: staticmethod
- **Documentation**: Get all users with optional limit

### get_user_by_email

- **Category**: ai_services
- **Line**: 26
- **Arguments**: email
- **Decorators**: staticmethod
- **Documentation**: Get user by email

### get_user_by_id

- **Category**: utilities
- **Line**: 21
- **Arguments**: user_id
- **Decorators**: staticmethod
- **Documentation**: Get user by ID

### search_users

- **Category**: search
- **Line**: 60
- **Arguments**: query, limit
- **Decorators**: staticmethod
- **Documentation**: Search users by name or email

### update_user

- **Category**: utilities
- **Line**: 39
- **Arguments**: user_id, update_data
- **Decorators**: staticmethod
- **Documentation**: Update user data


## targeted_optimization_report.py

### analyze_critical_areas

- **Category**: ai_services
- **Line**: 12
- **Documentation**: Analyze critical optimization areas efficiently

### main

- **Category**: ai_services
- **Line**: 370
- **Documentation**: Execute targeted optimization analysis

### print_comprehensive_report

- **Category**: utilities
- **Line**: 261
- **Arguments**: report
- **Documentation**: Print the comprehensive optimization report


## tests/auth_loop_test.py

### __init__

- **Category**: utilities
- **Line**: 11
- **Arguments**: self, base_url

### log_test

- **Category**: utilities
- **Line**: 19
- **Arguments**: self, test_name, success, details
- **Documentation**: Log test result

### main

- **Category**: ai_services
- **Line**: 217
- **Documentation**: Main test runner

### run_all_tests

- **Category**: utilities
- **Line**: 184
- **Arguments**: self
- **Documentation**: Run complete test suite

### test_health_endpoint

- **Category**: core_features
- **Line**: 159
- **Arguments**: self
- **Documentation**: Test 8: Health endpoint should always be accessible

### test_login_creates_session

- **Category**: authentication
- **Line**: 59
- **Arguments**: self
- **Documentation**: Test 3: POST /api/login should return 200 + Set-Cookie

### test_logout_destroys_session

- **Category**: utilities
- **Line**: 129
- **Arguments**: self
- **Documentation**: Test 6: POST /api/logout should return 204

### test_me_endpoint_authenticated

- **Category**: core_features
- **Line**: 104
- **Arguments**: self
- **Documentation**: Test 5: GET /api/me with session should return user data

### test_protected_page_after_logout

- **Category**: utilities
- **Line**: 144
- **Arguments**: self
- **Documentation**: Test 7: GET /app.html after logout should return 401/302

### test_protected_page_authenticated

- **Category**: authentication
- **Line**: 89
- **Arguments**: self
- **Documentation**: Test 4: GET /app.html with cookie should return 200

### test_protected_page_unauthenticated

- **Category**: authentication
- **Line**: 44
- **Arguments**: self
- **Documentation**: Test 2: GET /app.html unauth should return 401 or 302

### test_public_landing_page

- **Category**: utilities
- **Line**: 29
- **Arguments**: self
- **Documentation**: Test 1: GET / should return 200


## tests/port_validation_suite.py

### __init__

- **Category**: utilities
- **Line**: 15
- **Arguments**: self

### generate_report

- **Category**: utilities
- **Line**: 211
- **Arguments**: self
- **Documentation**: Generate comprehensive port validation report

### log_test

- **Category**: utilities
- **Line**: 19
- **Arguments**: self, test_name, status, message
- **Documentation**: Log test result

### main

- **Category**: ai_services
- **Line**: 256
- **Documentation**: Main entry point for port validation

### run_full_suite

- **Category**: utilities
- **Line**: 240
- **Arguments**: self
- **Documentation**: Run complete port validation suite

### run_smoke_test

- **Category**: utilities
- **Line**: 183
- **Arguments**: self
- **Documentation**: Run quick server smoke test

### test_app_startup

- **Category**: utilities
- **Line**: 137
- **Arguments**: self
- **Documentation**: Test that app can start with current port configuration

### test_config_consistency

- **Category**: utilities
- **Line**: 70
- **Arguments**: self
- **Documentation**: Test that all config files use consistent port settings

### test_environment_port_config

- **Category**: utilities
- **Line**: 31
- **Arguments**: self
- **Documentation**: Test that PORT environment variable is properly configured

### test_no_hardcoded_ports

- **Category**: utilities
- **Line**: 103
- **Arguments**: self
- **Documentation**: Scan for hardcoded ports in Python files

### test_port_availability

- **Category**: ai_services
- **Line**: 53
- **Arguments**: self
- **Documentation**: Test if port is available for binding

### test_proxy_configuration

- **Category**: utilities
- **Line**: 167
- **Arguments**: self
- **Documentation**: Test ProxyFix configuration for deployment


## tests/public_access_smoke_test.py

### __init__

- **Category**: utilities
- **Line**: 14
- **Arguments**: self, base_url
- **Documentation**: Initialize smoke test with base URL

### generate_report

- **Category**: utilities
- **Line**: 193
- **Arguments**: self, passed, total
- **Documentation**: Generate final test report

### log_error

- **Category**: utilities
- **Line**: 33
- **Arguments**: self, test_name, error
- **Documentation**: Log test error

### log_result

- **Category**: utilities
- **Line**: 21
- **Arguments**: self, test_name, status, details
- **Documentation**: Log test result

### main

- **Category**: ai_services
- **Line**: 219
- **Documentation**: Main test runner

### run_all_tests

- **Category**: utilities
- **Line**: 163
- **Arguments**: self
- **Documentation**: Run complete smoke test suite

### test_demo_page_public

- **Category**: utilities
- **Line**: 52
- **Arguments**: self
- **Documentation**: Test 2: Demo page loads without authentication

### test_health_endpoints

- **Category**: core_features
- **Line**: 127
- **Arguments**: self
- **Documentation**: Test 6: Health endpoints are publicly accessible

### test_landing_page_public

- **Category**: utilities
- **Line**: 38
- **Arguments**: self
- **Documentation**: Test 1: Landing page loads without authentication

### test_no_replit_auth_headers

- **Category**: authentication
- **Line**: 146
- **Arguments**: self
- **Documentation**: Test 7: Check for presence of public access headers

### test_protected_route_redirect

- **Category**: core_features
- **Line**: 66
- **Arguments**: self
- **Documentation**: Test 3: Protected /app route redirects properly (not 401)

### test_public_api_user

- **Category**: integrations
- **Line**: 83
- **Arguments**: self
- **Documentation**: Test 4: Public API returns guest user info without 401

### test_public_demo_chat

- **Category**: ai_services
- **Line**: 102
- **Arguments**: self
- **Documentation**: Test 5: Public demo chat API works without authentication


## tests/smoke_test_suite.py

### setup_class

- **Category**: utilities
- **Line**: 14
- **Arguments**: cls
- **Decorators**: classmethod
- **Documentation**: Setup test environment

### test_01_root_endpoint_public_access

- **Category**: core_features
- **Line**: 21
- **Arguments**: self
- **Documentation**: TEST 1: GET / ⇒ 200 (Public access without login)

### test_02_health_check_endpoint

- **Category**: core_features
- **Line**: 27
- **Arguments**: self
- **Documentation**: TEST 2: GET /health ⇒ 200 (Health monitoring)

### test_03_dashboard_access_pattern

- **Category**: utilities
- **Line**: 33
- **Arguments**: self
- **Documentation**: TEST 3: GET /dashboard ⇒ Should not cause infinite redirects

### test_04_api_endpoints_no_auth_loops

- **Category**: core_features
- **Line**: 57
- **Arguments**: self
- **Documentation**: TEST 4: API endpoints should not cause authentication loops

### test_05_cors_headers_present

- **Category**: utilities
- **Line**: 67
- **Arguments**: self
- **Documentation**: TEST 5: CORS headers for public access

### test_06_security_headers_present

- **Category**: security
- **Line**: 73
- **Arguments**: self
- **Documentation**: TEST 6: Essential security headers are present

### test_07_no_server_errors_on_basic_routes

- **Category**: core_features
- **Line**: 81
- **Arguments**: self
- **Documentation**: TEST 7: Basic routes return proper responses, not 500 errors


## tests/test_messaging_status.py

### test_alternative_methods

- **Category**: utilities
- **Line**: 59
- **Arguments**: self
- **Documentation**: Test that alternative notification methods are provided

### test_capability_case_insensitive

- **Category**: utilities
- **Line**: 68
- **Arguments**: self
- **Documentation**: Test that capability checking is case insensitive

### test_email_available

- **Category**: ai_services
- **Line**: 25
- **Arguments**: self
- **Documentation**: Test that email is correctly marked as available

### test_handle_text_message_request

- **Category**: notifications
- **Line**: 40
- **Arguments**: self
- **Documentation**: Test handling of text message requests

### test_notification_method_validation

- **Category**: notifications
- **Line**: 47
- **Arguments**: self
- **Documentation**: Test notification method validation

### test_sms_error_response

- **Category**: utilities
- **Line**: 30
- **Arguments**: self
- **Documentation**: Test SMS error response structure

### test_sms_not_available

- **Category**: ai_services
- **Line**: 19
- **Arguments**: self
- **Documentation**: Test that SMS is correctly marked as unavailable


## utils/aa_helper.py

### __init__

- **Category**: services
- **Line**: 235
- **Arguments**: self

### add_achievement

- **Category**: services
- **Line**: 1255
- **Arguments**: user_id, badge_id, badge_name, badge_description
- **Documentation**: Add an achievement badge for a user

Args:
    user_id: User ID
    badge_id: Unique badge identifier
    badge_name: Display name for the badge
    badge_description: Description of the achievement

Returns:
    Dict with badge details or None if badge already exists

### complete_nightly_inventory

- **Category**: services
- **Line**: 931
- **Arguments**: user_id, inventory_id
- **Documentation**: Mark a nightly inventory as complete

Args:
    user_id: User ID
    inventory_id: Inventory ID

Returns:
    Dict with result status

### find_meetings

- **Category**: search
- **Line**: 267
- **Arguments**: zip_code, radius, day, time, types
- **Documentation**: Find AA meetings using the Meeting Guide API

Args:
    zip_code: Zip/postal code to search near
    radius: Search radius in miles (default: 25)
    day: Optional day filter (0-6, where 0 is Sunday)
    time: Optional time filter (HH:MM in 24-hour format)
    types: Optional meeting types filter (list of strings)

Returns:
    Dict with meeting results

### get_crisis_resources

- **Category**: services
- **Line**: 1131
- **Documentation**: Get crisis resources and helpline information

Returns:
    Dict with crisis resources

### get_daily_reflection

- **Category**: ai_services
- **Line**: 391
- **Arguments**: user_id, reflection_type
- **Documentation**: Get a daily reflection for morning or evening

Args:
    user_id: Optional user ID to track if they've seen this reflection
    reflection_type: Type of reflection (morning or evening)

Returns:
    Dict with reflection content

### get_mindfulness_exercises

- **Category**: services
- **Line**: 1185
- **Arguments**: category
- **Documentation**: Get mindfulness and CBT exercises

Args:
    category: Optional category to filter exercises

Returns:
    Dict with mindfulness exercises

### get_nightly_inventory_template

- **Category**: services
- **Line**: 821
- **Documentation**: Get the template for nightly inventory

Returns:
    Dict with inventory template questions

### get_random_spot_check

- **Category**: health_monitoring
- **Line**: 1023
- **Arguments**: user_id, category
- **Documentation**: Get a random spot check question

Args:
    user_id: Optional user ID to track who's seen this question
    category: Optional category to filter questions

Returns:
    Dict with spot check question

### get_recovery_stats

- **Category**: services
- **Line**: 588
- **Arguments**: user_id
- **Documentation**: Get comprehensive recovery statistics

Args:
    user_id: User ID

Returns:
    Dict with recovery statistics

### load_json_file

- **Category**: services
- **Line**: 256
- **Arguments**: filename
- **Documentation**: Load a JSON file from the static/aa_data directory

### log_meeting_attendance

- **Category**: services
- **Line**: 332
- **Arguments**: user_id, meeting_id, meeting_name, meeting_type, date_attended, pre_reflection, reflection, honest_admit
- **Documentation**: Log attendance at an AA meeting

Args:
    user_id: User ID
    meeting_id: Meeting ID (from Meeting Guide API)
    meeting_name: Meeting name
    meeting_type: Meeting type (in_person, online, phone)
    date_attended: Date attended
    pre_reflection: Optional pre-meeting reflection
    reflection: Optional post-meeting reflection
    honest_admit: Optional honesty admission

Returns:
    Dict with result status

### log_mindfulness_exercise

- **Category**: services
- **Line**: 1211
- **Arguments**: user_id, exercise_type, exercise_name, notes
- **Documentation**: Log completion of a mindfulness exercise

Args:
    user_id: User ID
    exercise_type: Type of exercise (breathing, thought_record, etc.)
    exercise_name: Name of the specific exercise
    notes: Optional user notes

Returns:
    Dict with result status

### log_reflection_response

- **Category**: services
- **Line**: 433
- **Arguments**: user_id, reflection_content, response_content, is_honest_admit
- **Documentation**: Log a user's response to a reflection

Args:
    user_id: User ID
    reflection_content: The reflection they responded to
    response_content: User's response text
    is_honest_admit: Whether this counts as an honesty admission

Returns:
    Dict with result status

### log_sponsor_call

- **Category**: services
- **Line**: 533
- **Arguments**: user_id, contact_type, pre_call_admission, post_call_admission
- **Documentation**: Log a call to sponsor or backup contact

Args:
    user_id: User ID
    contact_type: Type of contact (sponsor or backup_contact)
    pre_call_admission: What the user admitted before the call
    post_call_admission: What the user admitted during the call

Returns:
    Dict with result status

### log_spot_check_response

- **Category**: health_monitoring
- **Line**: 1061
- **Arguments**: user_id, check_type, question, response, rating, trigger
- **Documentation**: Log a response to a spot-check question

Args:
    user_id: User ID
    check_type: Type of check (resentment, selfish, etc.)
    question: The question text
    response: User's response
    rating: Optional rating (0-5) for relevant questions
    trigger: Optional trigger identification

Returns:
    Dict with result status

### register_sponsor

- **Category**: services
- **Line**: 483
- **Arguments**: user_id, sponsor_name, sponsor_phone, backup_name, backup_phone
- **Documentation**: Register or update sponsor information

Args:
    user_id: User ID
    sponsor_name: Sponsor's name
    sponsor_phone: Sponsor's phone number
    backup_name: Optional backup contact name
    backup_phone: Optional backup contact phone

Returns:
    Dict with result status

### set_sober_date

- **Category**: services
- **Line**: 727
- **Arguments**: user_id, sober_date
- **Documentation**: Set or update user's sober date

Args:
    user_id: User ID
    sober_date: Sobriety date (datetime or string in YYYY-MM-DD format)

Returns:
    Dict with result status

### start_nightly_inventory

- **Category**: services
- **Line**: 851
- **Arguments**: user_id
- **Documentation**: Start a new nightly inventory

Args:
    user_id: User ID

Returns:
    Dict with new inventory object and template

### to_dict

- **Category**: services
- **Line**: 243
- **Arguments**: self
- **Documentation**: Convert to dictionary

### update_aa_settings

- **Category**: services
- **Line**: 786
- **Arguments**: user_id, settings_dict
- **Documentation**: Update AA recovery settings

Args:
    user_id: User ID
    settings_dict: Dictionary of settings to update

Returns:
    Dict with result status

### update_nightly_inventory

- **Category**: services
- **Line**: 897
- **Arguments**: user_id, inventory_id, field, value
- **Documentation**: Update a field in the nightly inventory

Args:
    user_id: User ID
    inventory_id: Inventory ID
    field: Field to update
    value: New value

Returns:
    Dict with updated inventory


## utils/character_customization.py

### apply_character_style

- **Category**: utilities
- **Line**: 143
- **Arguments**: response
- **Documentation**: Modify the AI's response based on character settings to ensure consistency

Args:
    response: The original AI response text

Returns:
    str: The response modified to match the user's character settings

### get_character_settings

- **Category**: utilities
- **Line**: 12
- **Documentation**: Get the current AI character settings

Returns the character settings from:
1. Current user's settings if authenticated
2. Session settings if available
3. Default settings otherwise

### get_character_system_prompt

- **Category**: utilities
- **Line**: 66
- **Documentation**: Generate a system prompt based on the user's AI character customization settings

Returns:
    str: A system prompt describing the AI's personality and behavior


## utils/command_parser.py

### parse_command

- **Category**: utilities
- **Line**: 28
- **Arguments**: cmd, calendar, tasks, keep, spotify, log, session
- **Documentation**: Parse and execute user commands, with natural language support


## utils/db_optimizations.py

### after_cursor_execute

- **Category**: utilities
- **Line**: 73
- **Arguments**: conn, cursor, statement, parameters, context, executemany
- **Decorators**: <ast.Call object at 0x7f3621604850>
- **Documentation**: Log slow queries

### before_cursor_execute

- **Category**: utilities
- **Line**: 68
- **Arguments**: conn, cursor, statement, parameters, context, executemany
- **Decorators**: <ast.Call object at 0x7f3621605f00>
- **Documentation**: Add query timing to connection

### bulk_create

- **Category**: utilities
- **Line**: 153
- **Arguments**: model, items
- **Documentation**: Efficiently create multiple objects in a single transaction

Args:
    model: SQLAlchemy model class
    items: List of dictionaries with model attributes

Returns:
    List of created model instances

### bulk_update

- **Category**: utilities
- **Line**: 169
- **Arguments**: model, items, id_key
- **Documentation**: Efficiently update multiple objects in a single transaction

Args:
    model: SQLAlchemy model class
    items: List of dictionaries with model attributes including ID
    id_key: Name of the ID attribute (default: 'id')

Returns:
    List of updated model instances

### clear_db_stats

- **Category**: utilities
- **Line**: 61
- **Documentation**: Clear the database query statistics

### decorator

- **Category**: utilities
- **Line**: 21
- **Arguments**: f

### get_db_stats

- **Category**: utilities
- **Line**: 52
- **Documentation**: Get database query performance statistics

Returns:
    Dictionary with query stats

### get_or_create

- **Category**: utilities
- **Line**: 99
- **Arguments**: model
- **Documentation**: Get an instance of a model by the given kwargs, or create it if it doesn't exist

Args:
    model: SQLAlchemy model class
    **kwargs: Attributes to filter by and create with

Returns:
    Tuple of (instance, created) where created is True if a new instance was created

### optimize_query

- **Category**: search
- **Line**: 11
- **Arguments**: query_name
- **Documentation**: Decorator for timing and optimizing database queries

Args:
    query_name: Name of the query for logging and stats tracking

Returns:
    Decorated function

### paginate_query

- **Category**: search
- **Line**: 119
- **Arguments**: query, page, per_page
- **Documentation**: Paginate a SQLAlchemy query with consistent response format

Args:
    query: SQLAlchemy query object
    page: Page number (1-indexed)
    per_page: Number of items per page

Returns:
    Dict with pagination info and results

### setup_db_optimizations

- **Category**: utilities
- **Line**: 203
- **Arguments**: app
- **Documentation**: Set up database optimizations for the Flask application

Args:
    app: Flask application instance


## utils/dbt_crisis_helper.py

### add_crisis_resource

- **Category**: services
- **Line**: 58
- **Arguments**: session_obj, name, contact_info, resource_type, notes, is_emergency
- **Documentation**: Add a new crisis resource

Args:
    session_obj: Flask session object
    name: Resource name
    contact_info: Contact information (phone, url, etc)
    resource_type: Type of resource (hotline, therapist, hospital, etc)
    notes: Additional notes
    is_emergency: Whether this is an emergency resource

Returns:
    dict: Status of the operation

### create_default_crisis_resources

- **Category**: services
- **Line**: 203
- **Arguments**: session_obj
- **Documentation**: Create default crisis resources for a new user

Args:
    session_obj: Flask session object

Returns:
    int: Number of resources created

### delete_crisis_resource

- **Category**: services
- **Line**: 163
- **Arguments**: session_obj, resource_id
- **Documentation**: Delete a crisis resource

Args:
    session_obj: Flask session object
    resource_id: ID of the resource to delete

Returns:
    dict: Status of the operation

### generate_crisis_plan

- **Category**: services
- **Line**: 281
- **Arguments**: session_obj, crisis_type
- **Documentation**: Generate a personalized crisis plan based on user resources

Args:
    session_obj: Flask session object
    crisis_type: Optional specific crisis type

Returns:
    dict: Generated crisis plan

### get_crisis_de_escalation

- **Category**: services
- **Line**: 383
- **Arguments**: intensity, emotion
- **Documentation**: Get a step-by-step de-escalation process

Args:
    intensity: Crisis intensity level (1-10)
    emotion: Optional specific emotion being experienced

Returns:
    dict: De-escalation steps

### get_crisis_resources

- **Category**: services
- **Line**: 11
- **Arguments**: session_obj, is_emergency_only
- **Documentation**: Get crisis resources for the user

Args:
    session_obj: Flask session object
    is_emergency_only: If True, only return emergency resources

Returns:
    list: Crisis resources

### get_grounding_exercise

- **Category**: services
- **Line**: 341
- **Arguments**: trigger_type
- **Documentation**: Get a grounding exercise for crisis management

Args:
    trigger_type: Optional specific trigger type

Returns:
    dict: Grounding exercise

### update_crisis_resource

- **Category**: services
- **Line**: 103
- **Arguments**: session_obj, resource_id, name, contact_info, resource_type, notes, is_emergency
- **Documentation**: Update a crisis resource

Args:
    session_obj: Flask session object
    resource_id: ID of the resource to update
    name: New name (if changing)
    contact_info: New contact info (if changing)
    resource_type: New resource type (if changing)
    notes: New notes (if changing)
    is_emergency: New emergency status (if changing)

Returns:
    dict: Status of the operation


## utils/dbt_emotion_helper.py

### check_emotion_vulnerability

- **Category**: health_monitoring
- **Line**: 394
- **Arguments**: session_obj
- **Documentation**: Check for emotional vulnerability factors based on user's history

Args:
    session_obj: Flask session object

Returns:
    dict: Vulnerability assessment

### generate_emotion_insights

- **Category**: analytics
- **Line**: 194
- **Arguments**: session_obj, emotion_name
- **Documentation**: Generate personalized insights based on emotion tracking

Args:
    session_obj: Flask session object
    emotion_name: Optional specific emotion to analyze

Returns:
    dict: Personalized insights

### get_emotion_history

- **Category**: services
- **Line**: 61
- **Arguments**: session_obj, limit, emotion_name, days
- **Documentation**: Get emotion tracking history

Args:
    session_obj: Flask session object
    limit: Maximum number of entries to retrieve
    emotion_name: Optional filter for specific emotion
    days: Number of days to look back

Returns:
    list: Emotion tracking entries

### get_emotion_stats

- **Category**: services
- **Line**: 100
- **Arguments**: session_obj, days
- **Documentation**: Get statistics on emotions tracked

Args:
    session_obj: Flask session object
    days: Number of days to look back

Returns:
    dict: Emotion statistics

### get_opposite_action_suggestion

- **Category**: services
- **Line**: 278
- **Arguments**: session_obj, emotion, situation
- **Documentation**: Get opposite action suggestions for a specific emotion

Args:
    session_obj: Flask session object
    emotion: The emotion being experienced
    situation: Optional description of the situation

Returns:
    dict: Opposite action suggestions

### identify_emotion

- **Category**: services
- **Line**: 336
- **Arguments**: session_obj, body_sensations, thoughts, situation
- **Documentation**: Help identify emotions based on physical sensations, thoughts, or situations

Args:
    session_obj: Flask session object
    body_sensations: Physical sensations being experienced
    thoughts: Thoughts being experienced
    situation: Description of the situation

Returns:
    dict: Emotion identification results

### log_emotion

- **Category**: services
- **Line**: 10
- **Arguments**: session_obj, emotion_name, intensity, trigger, body_sensations, thoughts, urges, opposite_action
- **Documentation**: Log an emotion experience

Args:
    session_obj: Flask session object
    emotion_name: Name of the emotion
    intensity: Intensity level (1-10)
    trigger: What triggered the emotion
    body_sensations: Physical sensations experienced
    thoughts: Thoughts associated with the emotion
    urges: Action urges experienced
    opposite_action: Opposite action taken (if any)

Returns:
    dict: Status of the operation


## utils/docs_sheets_helper.py

### ai_edit_document

- **Category**: ai_services
- **Line**: 151
- **Arguments**: docs_service, document_id, editing_request
- **Documentation**: Use AI to edit a document based on natural language instructions

Args:
    docs_service: Authorized Google Docs service
    document_id: Document ID
    editing_request: Natural language editing request

Returns:
    Status of the edit operation

### analyze_document_sentiment

- **Category**: ai_services
- **Line**: 276
- **Arguments**: docs_service, document_id
- **Documentation**: Analyze the sentiment and emotional content of a document

Args:
    docs_service: Authorized Google Docs service
    document_id: Document ID

Returns:
    Sentiment analysis results

### create_budget_spreadsheet

- **Category**: services
- **Line**: 943
- **Arguments**: sheets_service
- **Documentation**: Create a budget management spreadsheet

Args:
    sheets_service: Authorized Google Sheets service

Returns:
    Spreadsheet ID and URL

### create_document

- **Category**: services
- **Line**: 75
- **Arguments**: docs_service, title, content
- **Documentation**: Create a new Google Doc

Args:
    docs_service: Authorized Google Docs service
    title: Document title
    content: Initial content (optional)

Returns:
    Document ID and URL

### create_medication_tracker_spreadsheet

- **Category**: analytics
- **Line**: 823
- **Arguments**: sheets_service
- **Documentation**: Create a medication tracking spreadsheet

Args:
    sheets_service: Authorized Google Sheets service

Returns:
    Spreadsheet ID and URL

### create_meeting_notes_template

- **Category**: services
- **Line**: 606
- **Arguments**: docs_service, meeting_type
- **Documentation**: Create a meeting notes template with intelligent fields

Args:
    docs_service: Authorized Google Docs service
    meeting_type: Type of meeting (support_group, therapy, sponsor)

Returns:
    Document ID and URL

### create_progress_tracking_document

- **Category**: analytics
- **Line**: 533
- **Arguments**: docs_service, user_info
- **Documentation**: Create a recovery progress tracking document

Args:
    docs_service: Authorized Google Docs service
    user_info: Optional user information for personalization

Returns:
    Document ID and URL

### create_recovery_journal_document

- **Category**: services
- **Line**: 307
- **Arguments**: docs_service, user_info
- **Documentation**: Create a recovery journal document with structured templates

Args:
    docs_service: Authorized Google Docs service
    user_info: Optional user information for personalization

Returns:
    Document ID and URL

### create_recovery_metrics_dashboard

- **Category**: analytics
- **Line**: 877
- **Arguments**: sheets_service, recovery_type
- **Documentation**: Create a recovery metrics dashboard spreadsheet

Args:
    sheets_service: Authorized Google Sheets service
    recovery_type: Type of recovery program (aa, dbt, etc.)

Returns:
    Spreadsheet ID and URL

### create_spreadsheet

- **Category**: services
- **Line**: 759
- **Arguments**: sheets_service, title, sheets
- **Documentation**: Create a new Google Sheet

Args:
    sheets_service: Authorized Google Sheets service
    title: Spreadsheet title
    sheets: List of sheet names to create (optional)

Returns:
    Spreadsheet ID and URL

### create_therapy_worksheet

- **Category**: services
- **Line**: 366
- **Arguments**: docs_service, worksheet_type, user_info
- **Documentation**: Create a therapy worksheet based on the specified type

Args:
    docs_service: Authorized Google Docs service
    worksheet_type: Type of therapy worksheet (e.g., "dbt_diary_card", "chain_analysis", "thought_record")
    user_info: Optional user information for personalization

Returns:
    Document ID and URL

### generate_smart_content_suggestions

- **Category**: services
- **Line**: 215
- **Arguments**: docs_service, document_id
- **Documentation**: Generate smart content suggestions for a document

Args:
    docs_service: Authorized Google Docs service
    document_id: Document ID

Returns:
    List of content suggestions

### get_docs_service

- **Category**: integrations
- **Line**: 13
- **Arguments**: user_connection
- **Documentation**: Build and return a Google Docs service object from user connection data

### get_document_content

- **Category**: services
- **Line**: 121
- **Arguments**: docs_service, document_id
- **Documentation**: Get the content of a Google Doc

Args:
    docs_service: Authorized Google Docs service
    document_id: Document ID

Returns:
    Document content as text

### get_drive_service

- **Category**: integrations
- **Line**: 53
- **Arguments**: user_connection
- **Documentation**: Build and return a Google Drive service object from user connection data

### get_sheets_service

- **Category**: integrations
- **Line**: 33
- **Arguments**: user_connection
- **Documentation**: Build and return a Google Sheets service object from user connection data

### summarize_document

- **Category**: services
- **Line**: 246
- **Arguments**: docs_service, document_id
- **Documentation**: Automatically summarize a document

Args:
    docs_service: Authorized Google Docs service
    document_id: Document ID

Returns:
    Document summary

### update_sheet_values

- **Category**: services
- **Line**: 794
- **Arguments**: sheets_service, spreadsheet_id, range_name, values
- **Documentation**: Update values in a spreadsheet

Args:
    sheets_service: Authorized Google Sheets service
    spreadsheet_id: Spreadsheet ID
    range_name: Range to update (e.g., 'Sheet1!A1:B5')
    values: 2D array of values to update

Returns:
    Update result


## utils/drive_helper.py

### analyze_file_content

- **Category**: ai_services
- **Line**: 324
- **Arguments**: service, file_id, openai_client
- **Documentation**: Analyze the content of a file using AI

### create_folder

- **Category**: services
- **Line**: 225
- **Arguments**: service, folder_name, parent_folder_id
- **Documentation**: Create a new folder in Google Drive

### download_file

- **Category**: services
- **Line**: 114
- **Arguments**: service, file_id, destination_path
- **Documentation**: Download a file from Google Drive

### get_drive_service

- **Category**: integrations
- **Line**: 12
- **Arguments**: user_connection
- **Documentation**: Build and return a Google Drive service object from user connection data

### get_file_metadata

- **Category**: services
- **Line**: 101
- **Arguments**: service, file_id
- **Documentation**: Get detailed metadata for a specific file

### get_recent_files

- **Category**: services
- **Line**: 290
- **Arguments**: service, max_results
- **Documentation**: Get recently modified files

### list_files

- **Category**: services
- **Line**: 32
- **Arguments**: service, query, max_results
- **Documentation**: List files in Google Drive with optional query

### search_files

- **Category**: search
- **Line**: 67
- **Arguments**: service, query_text, file_type, max_results
- **Documentation**: Search for files in Google Drive by name or content

### share_file

- **Category**: collaboration
- **Line**: 257
- **Arguments**: service, file_id, email, role
- **Documentation**: Share a file with another user

### upload_file

- **Category**: services
- **Line**: 171
- **Arguments**: service, file_path, parent_folder_id, file_name
- **Documentation**: Upload a file to Google Drive


## utils/image_helper.py

### analyze_image_for_travel

- **Category**: ai_services
- **Line**: 77
- **Arguments**: image_data
- **Documentation**: Specialized analysis of travel photos using Hugging Face

### describe_image

- **Category**: services
- **Line**: 28
- **Arguments**: image_data
- **Documentation**: Generate a detailed description of an image using Hugging Face's API

### detect_objects_in_image

- **Category**: services
- **Line**: 61
- **Arguments**: image_data
- **Documentation**: Detect and count objects in an image using Hugging Face's API

### encode_image_to_base64

- **Category**: services
- **Line**: 123
- **Arguments**: image_path
- **Documentation**: Encode an image file to base64 for API calls or display

### get_uploaded_image_file

- **Category**: services
- **Line**: 185
- **Arguments**: user_id
- **Documentation**: Get path to most recently uploaded image for a user

### organize_images_by_content

- **Category**: services
- **Line**: 149
- **Arguments**: image_files
- **Documentation**: Group multiple images by their content

### segment_image

- **Category**: services
- **Line**: 133
- **Arguments**: image_data
- **Documentation**: Segment an image into semantic regions using Hugging Face's API


## utils/logger.py

### ensure_directory

- **Category**: utilities
- **Line**: 6
- **Arguments**: directory
- **Documentation**: Ensure a directory exists

### get_mood_entries

- **Category**: utilities
- **Line**: 100
- **Arguments**: limit
- **Documentation**: Get recent mood entries

### get_workout_entries

- **Category**: utilities
- **Line**: 83
- **Arguments**: limit
- **Documentation**: Get recent workout entries

### log_mood

- **Category**: utilities
- **Line**: 47
- **Arguments**: entry
- **Documentation**: Log mood entry to JSON file

### log_workout

- **Category**: utilities
- **Line**: 11
- **Arguments**: entry
- **Documentation**: Log workout entry to JSON file


## utils/medication_helper.py

### add_medication

- **Category**: services
- **Line**: 24
- **Arguments**: name, dosage, instructions, doctor_name, pharmacy, quantity, refills, session
- **Documentation**: Add a new medication to track

### get_medication_by_id

- **Category**: services
- **Line**: 11
- **Arguments**: medication_id, session
- **Documentation**: Get a specific medication by ID

### get_medication_by_name

- **Category**: services
- **Line**: 16
- **Arguments**: name, session
- **Documentation**: Get a medication by name (case-insensitive)

### get_medications

- **Category**: services
- **Line**: 6
- **Arguments**: session
- **Documentation**: Get all medications for the current user

### get_medications_by_doctor

- **Category**: services
- **Line**: 136
- **Arguments**: doctor_id, session
- **Documentation**: Get all medications prescribed by a specific doctor

### get_medications_to_refill

- **Category**: services
- **Line**: 118
- **Arguments**: session
- **Documentation**: Get medications that need to be refilled soon based on threshold and quantity

### refill_medication

- **Category**: services
- **Line**: 83
- **Arguments**: medication_id, quantity_added, refills_remaining, session
- **Documentation**: Record a medication refill

### update_medication_quantity

- **Category**: services
- **Line**: 57
- **Arguments**: medication_id, new_quantity, session
- **Documentation**: Update the remaining quantity of a medication


## utils/meet_helper.py

### analyze_meeting_notes

- **Category**: ai_services
- **Line**: 787
- **Arguments**: notes_text, meeting_type
- **Documentation**: Analyze meeting notes to extract key points, action items, and insights

Args:
    notes_text: Text of the meeting notes to analyze
    meeting_type: Type of meeting (e.g., therapy, recovery, sponsor)

Returns:
    Analysis results including key points, action items, and insights

### calculate_duration_minutes

- **Category**: services
- **Line**: 870
- **Arguments**: start_time, end_time
- **Documentation**: Helper function to calculate meeting duration in minutes

### create_meeting

- **Category**: services
- **Line**: 94
- **Arguments**: calendar_service, title, description, start_time, end_time, attendees, is_recurring, recurrence_pattern
- **Documentation**: Create a Google Meet meeting via Calendar API

Args:
    calendar_service: Authorized Google Calendar service
    title: Meeting title
    description: Meeting description (optional)
    start_time: Meeting start time (datetime, default: now + 1 hour)
    end_time: Meeting end time (datetime, default: start_time + 1 hour)
    attendees: List of email addresses to invite (optional)
    is_recurring: Whether this is a recurring meeting (default: False)
    recurrence_pattern: Recurrence pattern for recurring meetings (optional)

Returns:
    Meeting details including ID and join URL

### create_mindfulness_session

- **Category**: services
- **Line**: 514
- **Arguments**: calendar_service, session_type, attendees, start_time, duration_minutes
- **Documentation**: Create a mindfulness session with Google Meet

Args:
    calendar_service: Authorized Google Calendar service
    session_type: Type of mindfulness session (e.g., meditation, breathing, etc.)
    attendees: List of participant emails (optional)
    start_time: Session start time (datetime, default: tomorrow at 8 AM)
    duration_minutes: Session duration in minutes (default: 30)

Returns:
    Session details including Meet link

### create_recovery_group_meeting

- **Category**: collaboration
- **Line**: 434
- **Arguments**: calendar_service, group_type, attendees, start_time, duration_minutes, is_recurring, weekly_day
- **Documentation**: Create a recovery group meeting with Google Meet

Args:
    calendar_service: Authorized Google Calendar service
    group_type: Type of recovery group (e.g., AA, DBT, etc.)
    attendees: List of participant emails (optional)
    start_time: Meeting start time (datetime, default: tomorrow at 7 PM)
    duration_minutes: Meeting duration in minutes (default: 90)
    is_recurring: Whether this is a recurring meeting (default: False)
    weekly_day: Day of the week for recurring meetings (0-6 for Monday-Sunday)

Returns:
    Meeting details including Meet link

### create_sponsor_meeting

- **Category**: services
- **Line**: 584
- **Arguments**: calendar_service, sponsor_email, start_time, duration_minutes
- **Documentation**: Create a sponsor meeting with Google Meet

Args:
    calendar_service: Authorized Google Calendar service
    sponsor_email: Email of the sponsor/sponsee
    start_time: Meeting start time (datetime, default: tomorrow at current time)
    duration_minutes: Meeting duration in minutes (default: 45)

Returns:
    Meeting details including Meet link

### create_therapy_session

- **Category**: services
- **Line**: 362
- **Arguments**: calendar_service, session_type, participant_email, start_time, duration_minutes
- **Documentation**: Create a therapy session with Google Meet

Args:
    calendar_service: Authorized Google Calendar service
    session_type: Type of therapy session (e.g., individual, group, etc.)
    participant_email: Email of the participant/client (optional)
    start_time: Session start time (datetime, default: tomorrow at current time)
    duration_minutes: Session duration in minutes (default: 60)

Returns:
    Session details including Meet link

### delete_meeting

- **Category**: services
- **Line**: 285
- **Arguments**: calendar_service, event_id
- **Documentation**: Delete a Google Meet meeting

Args:
    calendar_service: Authorized Google Calendar service
    event_id: Calendar event ID

Returns:
    Success status

### generate_meeting_agenda

- **Category**: services
- **Line**: 656
- **Arguments**: calendar_service, meeting_id, meeting_type, topic
- **Documentation**: Generate an AI-powered agenda for a meeting

Args:
    calendar_service: Authorized Google Calendar service
    meeting_id: Calendar event ID (optional)
    meeting_type: Type of meeting (e.g., therapy, recovery, sponsor) if no meeting_id
    topic: General topic or focus of the meeting (optional)

Returns:
    Generated agenda as formatted text

### get_meet_service

- **Category**: integrations
- **Line**: 66
- **Arguments**: user_connection
- **Documentation**: Build and return a Google Calendar service for Meet operations

Args:
    user_connection: User connection object with OAuth credentials

Returns:
    Calendar service object or None

### get_meeting

- **Category**: services
- **Line**: 179
- **Arguments**: calendar_service, event_id
- **Documentation**: Get details of a Google Meet meeting by event ID

Args:
    calendar_service: Authorized Google Calendar service
    event_id: Calendar event ID

Returns:
    Meeting details

### list_upcoming_meetings

- **Category**: services
- **Line**: 308
- **Arguments**: calendar_service, max_results
- **Documentation**: List upcoming meetings with Google Meet links

Args:
    calendar_service: Authorized Google Calendar service
    max_results: Maximum number of meetings to return

Returns:
    List of upcoming meetings

### update_meeting

- **Category**: services
- **Line**: 217
- **Arguments**: calendar_service, event_id, title, description, start_time, end_time, attendees
- **Documentation**: Update a Google Meet meeting

Args:
    calendar_service: Authorized Google Calendar service
    event_id: Calendar event ID
    title: New meeting title (optional)
    description: New meeting description (optional)
    start_time: New meeting start time (datetime, optional)
    end_time: New meeting end time (datetime, optional)
    attendees: New list of email addresses to invite (optional)

Returns:
    Updated meeting details


## utils/nlp_helper.py

### extract_datetime

- **Category**: services
- **Line**: 19
- **Arguments**: text
- **Documentation**: Extract date and time information from natural language text

Args:
    text: Natural language text containing date/time information

Returns:
    Extracted datetime object or None if no valid datetime found

### extract_duration

- **Category**: services
- **Line**: 236
- **Arguments**: text
- **Documentation**: Extract duration in minutes from natural language text

Args:
    text: Natural language text containing duration information

Returns:
    Duration in minutes or None if no valid duration found

### extract_emails

- **Category**: ai_services
- **Line**: 284
- **Arguments**: text
- **Documentation**: Extract email addresses from text

Args:
    text: Text containing email addresses

Returns:
    List of extracted email addresses


## utils/photos_helper.py

### analyze_photo_content

- **Category**: ai_services
- **Line**: 245
- **Arguments**: service, media_item_id, openai_client
- **Documentation**: Analyze the content of a photo using AI

### create_album

- **Category**: services
- **Line**: 123
- **Arguments**: service, title
- **Documentation**: Create a new album

### download_photo

- **Category**: services
- **Line**: 199
- **Arguments**: service, media_item_id, destination_path
- **Documentation**: Download a photo by ID

### get_album_contents

- **Category**: services
- **Line**: 58
- **Arguments**: service, album_id, max_results
- **Documentation**: Get photos and videos in an album

### get_media_item

- **Category**: services
- **Line**: 181
- **Arguments**: service, media_item_id
- **Documentation**: Get a specific media item by ID

### get_photos_service

- **Category**: integrations
- **Line**: 14
- **Arguments**: user_connection
- **Documentation**: Build and return a Google Photos service object from user connection data

### get_recent_photos

- **Category**: services
- **Line**: 146
- **Arguments**: service, max_results
- **Documentation**: Get recently added photos

### list_albums

- **Category**: services
- **Line**: 34
- **Arguments**: service, max_results
- **Documentation**: List user's photo albums

### search_media_items

- **Category**: search
- **Line**: 89
- **Arguments**: service, search_criteria, max_results
- **Documentation**: Search for media items based on criteria

### search_photos_by_content

- **Category**: search
- **Line**: 369
- **Arguments**: service, query, max_results, openai_client
- **Documentation**: Search for photos matching a content description using AI analysis


## utils/product_helper.py

### add_product

- **Category**: services
- **Line**: 27
- **Arguments**: name, url, description, price, source, session
- **Documentation**: Add a new product to track

### extract_source_from_url

- **Category**: services
- **Line**: 55
- **Arguments**: url
- **Documentation**: Extract the source (e.g., Amazon, Target) from a product URL

### fetch_product_details

- **Category**: ai_services
- **Line**: 70
- **Arguments**: url
- **Documentation**: Attempt to fetch basic product details from a URL

Returns:
    tuple: (description, price, image_url)

### get_due_product_orders

- **Category**: services
- **Line**: 166
- **Arguments**: session
- **Documentation**: Get recurring products that are due for ordering

### get_product_by_id

- **Category**: services
- **Line**: 14
- **Arguments**: product_id, session
- **Documentation**: Get a specific product by ID

### get_product_by_name

- **Category**: services
- **Line**: 19
- **Arguments**: name, session
- **Documentation**: Get a product by name (case-insensitive)

### get_products

- **Category**: services
- **Line**: 9
- **Arguments**: session
- **Documentation**: Get all tracked products for the current user

### mark_product_as_ordered

- **Category**: services
- **Line**: 142
- **Arguments**: product_id, session
- **Documentation**: Mark a product as ordered and update next order date if recurring

### set_product_as_recurring

- **Category**: services
- **Line**: 121
- **Arguments**: product_id, frequency_days, session
- **Documentation**: Set a product to be ordered on a recurring basis

### update_product_price

- **Category**: services
- **Line**: 177
- **Arguments**: product_id, new_price, session
- **Documentation**: Update the price of a tracked product


## utils/scraper.py

### scrape_aa_reflection

- **Category**: utilities
- **Line**: 5
- **Documentation**: Scrape the AA Daily Reflection from the official website


## utils/shopping_helper.py

### add_item_to_list

- **Category**: services
- **Line**: 44
- **Arguments**: list_id, item_name, quantity, unit, category, notes, session
- **Documentation**: Add an item to a shopping list

### create_shopping_list

- **Category**: services
- **Line**: 24
- **Arguments**: name, description, store, session
- **Documentation**: Create a new shopping list

### get_due_shopping_lists

- **Category**: services
- **Line**: 177
- **Arguments**: session
- **Documentation**: Get recurring shopping lists that are due for ordering

### get_items_in_list

- **Category**: services
- **Line**: 73
- **Arguments**: list_id, session
- **Documentation**: Get all items in a shopping list

### get_shopping_list_by_id

- **Category**: services
- **Line**: 11
- **Arguments**: list_id, session
- **Documentation**: Get a specific shopping list by ID

### get_shopping_list_by_name

- **Category**: services
- **Line**: 16
- **Arguments**: name, session
- **Documentation**: Get a shopping list by name (case-insensitive)

### get_shopping_lists

- **Category**: services
- **Line**: 6
- **Arguments**: session
- **Documentation**: Get all shopping lists for the current user

### mark_list_as_ordered

- **Category**: services
- **Line**: 149
- **Arguments**: list_id, session
- **Documentation**: Mark a shopping list as ordered and update next order date if recurring

### remove_item_from_list

- **Category**: services
- **Line**: 106
- **Arguments**: item_id, session
- **Documentation**: Remove an item from a shopping list

### set_list_as_recurring

- **Category**: services
- **Line**: 128
- **Arguments**: list_id, frequency_days, session
- **Documentation**: Set a shopping list as recurring with a frequency in days

### toggle_item_checked

- **Category**: health_monitoring
- **Line**: 84
- **Arguments**: item_id, is_checked, session
- **Documentation**: Mark an item as checked or unchecked


## utils/spotify_visualizer.py

### generate_audio_feature_comparison

- **Category**: voice_interface
- **Line**: 598
- **Arguments**: spotify, track_ids, track_names
- **Documentation**: Generate a comparison of audio features between multiple tracks

Args:
    spotify: Authenticated Spotify client
    track_ids: List of Spotify track IDs
    track_names: Optional list of track names (will fetch if not provided)

Returns:
    base64 encoded PNG image

### generate_audio_features_radar_chart

- **Category**: voice_interface
- **Line**: 307
- **Arguments**: spotify, track_id
- **Documentation**: Generate a radar chart of audio features for a specific track
If no track_id is provided, uses the currently playing track

Args:
    spotify: Authenticated Spotify client
    track_id: Optional Spotify track ID

Returns:
    base64 encoded PNG image and track info

### generate_genre_chart

- **Category**: utilities
- **Line**: 168
- **Arguments**: spotify, limit
- **Documentation**: Generate a pie chart of the user's top genres based on their top artists

Args:
    spotify: Authenticated Spotify client
    limit: Number of genres to include

Returns:
    base64 encoded PNG image

### generate_listening_history_chart

- **Category**: utilities
- **Line**: 247
- **Arguments**: spotify, limit
- **Documentation**: Generate a line chart showing listening patterns based on recently played tracks

Args:
    spotify: Authenticated Spotify client
    limit: Maximum number of recently played tracks to analyze

Returns:
    base64 encoded PNG image

### generate_playlist_mood_analysis

- **Category**: utilities
- **Line**: 417
- **Arguments**: spotify, playlist_id
- **Documentation**: Generate charts analyzing the mood and characteristics of a playlist

Args:
    spotify: Authenticated Spotify client
    playlist_id: Spotify playlist ID

Returns:
    Dictionary with base64 encoded PNG images

### generate_spotify_listening_report

- **Category**: utilities
- **Line**: 560
- **Arguments**: spotify
- **Documentation**: Generate a comprehensive listening report with multiple visualizations

Args:
    spotify: Authenticated Spotify client

Returns:
    Dictionary with base64 encoded PNG images

### generate_top_artists_chart

- **Category**: utilities
- **Line**: 20
- **Arguments**: spotify, time_range, limit
- **Documentation**: Generate a horizontal bar chart of the user's top artists

Args:
    spotify: Authenticated Spotify client
    time_range: 'short_term', 'medium_term', or 'long_term'
    limit: Number of artists to include

Returns:
    base64 encoded PNG image

### generate_top_tracks_chart

- **Category**: analytics
- **Line**: 92
- **Arguments**: spotify, time_range, limit
- **Documentation**: Generate a horizontal bar chart of the user's top tracks

Args:
    spotify: Authenticated Spotify client
    time_range: 'short_term', 'medium_term', or 'long_term'
    limit: Number of tracks to include

Returns:
    base64 encoded PNG image

### io_to_base64

- **Category**: utilities
- **Line**: 678
- **Arguments**: fig
- **Documentation**: Convert matplotlib figure to base64 encoded string


## utils/travel_helper.py

### add_accommodation

- **Category**: services
- **Line**: 342
- **Arguments**: trip_id, name, check_in_date, check_out_date, address, booking_confirmation, booking_site, phone, cost, notes, session
- **Documentation**: Add an accommodation to a trip

### add_itinerary_item

- **Category**: services
- **Line**: 215
- **Arguments**: trip_id, name, date, start_time, end_time, location, address, category, cost, reservation_confirmation, notes, session
- **Documentation**: Add an item to a trip itinerary

### add_packing_item

- **Category**: services
- **Line**: 607
- **Arguments**: trip_id, name, category, quantity, notes, session
- **Documentation**: Add an item to a trip packing list

### add_travel_document

- **Category**: services
- **Line**: 466
- **Arguments**: trip_id, name, document_type, confirmation_number, provider, departure_location, arrival_location, departure_time, arrival_time, cost, notes, session
- **Documentation**: Add a travel document to a trip

### create_trip

- **Category**: services
- **Line**: 35
- **Arguments**: name, destination, start_date, end_date, budget, notes, session
- **Documentation**: Create a new trip

### delete_accommodation

- **Category**: services
- **Line**: 424
- **Arguments**: accommodation_id, session
- **Documentation**: Delete an accommodation

### delete_itinerary_item

- **Category**: services
- **Line**: 300
- **Arguments**: item_id, session
- **Documentation**: Delete an itinerary item

### delete_packing_item

- **Category**: services
- **Line**: 701
- **Arguments**: item_id, session
- **Documentation**: Delete a packing item

### delete_travel_document

- **Category**: services
- **Line**: 551
- **Arguments**: document_id, session
- **Documentation**: Delete a travel document

### delete_trip

- **Category**: services
- **Line**: 100
- **Arguments**: trip_id, session
- **Documentation**: Delete a trip

### generate_standard_packing_list

- **Category**: services
- **Line**: 728
- **Arguments**: trip_id, session
- **Documentation**: Generate a standard packing list for a trip

### get_accommodations

- **Category**: services
- **Line**: 328
- **Arguments**: trip_id, session
- **Documentation**: Get all accommodations for a trip

### get_active_trip

- **Category**: services
- **Line**: 169
- **Arguments**: session
- **Documentation**: Get currently active trip (if any)

### get_itinerary

- **Category**: services
- **Line**: 181
- **Arguments**: trip_id, session
- **Documentation**: Get all itinerary items for a trip

### get_itinerary_by_day

- **Category**: services
- **Line**: 195
- **Arguments**: trip_id, date, session
- **Documentation**: Get itinerary items for a specific day of a trip

### get_packing_items_by_category

- **Category**: services
- **Line**: 593
- **Arguments**: trip_id, session
- **Documentation**: Get packing items organized by category

### get_packing_list

- **Category**: services
- **Line**: 579
- **Arguments**: trip_id, session
- **Documentation**: Get all packing items for a trip

### get_packing_progress

- **Category**: services
- **Line**: 761
- **Arguments**: trip_id, session
- **Documentation**: Get packing progress statistics

### get_travel_documents

- **Category**: services
- **Line**: 452
- **Arguments**: trip_id, session
- **Documentation**: Get all travel documents for a trip

### get_trip_by_id

- **Category**: services
- **Line**: 22
- **Arguments**: trip_id, session
- **Documentation**: Get a specific trip by ID

### get_trip_by_name

- **Category**: services
- **Line**: 27
- **Arguments**: name, session
- **Documentation**: Get a trip by name (case-insensitive)

### get_trip_cost

- **Category**: services
- **Line**: 118
- **Arguments**: trip_id, session
- **Documentation**: Calculate the total cost of a trip

### get_trips

- **Category**: services
- **Line**: 7
- **Arguments**: session, include_past
- **Documentation**: Get all trips for the current user

### get_upcoming_trips

- **Category**: services
- **Line**: 156
- **Arguments**: session, days
- **Documentation**: Get trips starting in the next X days

### toggle_packed_status

- **Category**: health_monitoring
- **Line**: 673
- **Arguments**: item_id, session
- **Documentation**: Toggle the packed status of a packing item

### update_accommodation

- **Category**: services
- **Line**: 376
- **Arguments**: accommodation_id, name, check_in_date, check_out_date, address, booking_confirmation, booking_site, phone, cost, notes, session
- **Documentation**: Update an accommodation

### update_itinerary_item

- **Category**: services
- **Line**: 250
- **Arguments**: item_id, name, date, start_time, end_time, location, address, category, cost, reservation_confirmation, notes, session
- **Documentation**: Update an itinerary item

### update_packing_item

- **Category**: services
- **Line**: 635
- **Arguments**: item_id, name, category, quantity, is_packed, notes, session
- **Documentation**: Update a packing item

### update_travel_document

- **Category**: services
- **Line**: 501
- **Arguments**: document_id, name, document_type, confirmation_number, provider, departure_location, arrival_location, departure_time, arrival_time, cost, notes, session
- **Documentation**: Update a travel document

### update_trip

- **Category**: services
- **Line**: 63
- **Arguments**: trip_id, name, destination, start_date, end_date, budget, notes, session
- **Documentation**: Update a trip


## utils/unified_ai_services.py

### analyze_text_sentiment

- **Category**: ai_services
- **Line**: 452
- **Arguments**: text
- **Documentation**: Legacy sentiment analysis function

### generate_ai_content

- **Category**: ai_services
- **Line**: 462
- **Arguments**: content_type, topic
- **Documentation**: Legacy content generation function

### get_ai_response

- **Category**: ai_services
- **Line**: 435
- **Arguments**: prompt, provider
- **Documentation**: Legacy function for backward compatibility

### get_best_quality_provider

- **Category**: services
- **Line**: 473
- **Documentation**: Get the best quality provider within reasonable cost

### get_cheapest_provider

- **Category**: services
- **Line**: 468
- **Documentation**: Get the cheapest available provider

### get_cost_optimized_response

- **Category**: services
- **Line**: 446
- **Arguments**: prompt, max_cost
- **Documentation**: Get cost-optimized AI response

### summarize_content

- **Category**: services
- **Line**: 457
- **Arguments**: text, max_length
- **Documentation**: Legacy summarization function


## utils/unified_google_services.py

### create_google_doc

- **Category**: services
- **Line**: 446
- **Arguments**: title, content
- **Documentation**: Legacy function for backward compatibility

### get_drive_service

- **Category**: integrations
- **Line**: 425
- **Documentation**: Backward compatibility for drive_helper

### get_gmail_service

- **Category**: ai_services
- **Line**: 419
- **Documentation**: Backward compatibility for gmail_helper

### get_maps_client

- **Category**: services
- **Line**: 431
- **Documentation**: Backward compatibility for maps_helper

### send_gmail

- **Category**: ai_services
- **Line**: 436
- **Arguments**: to, subject, body
- **Documentation**: Legacy function for backward compatibility

### upload_to_drive

- **Category**: services
- **Line**: 441
- **Arguments**: file_path, folder_id
- **Documentation**: Legacy function for backward compatibility


## utils/unified_spotify_services.py

### control_spotify_playback

- **Category**: services
- **Line**: 564
- **Arguments**: action
- **Documentation**: Legacy function for playback control

### create_spotify_playlist

- **Category**: services
- **Line**: 551
- **Arguments**: name, tracks
- **Documentation**: Backward compatibility function

### get_current_spotify_track

- **Category**: analytics
- **Line**: 559
- **Documentation**: Legacy function for getting current track

### get_spotify_client

- **Category**: services
- **Line**: 547
- **Documentation**: Backward compatibility for spotify_client

### search_spotify

- **Category**: search
- **Line**: 579
- **Arguments**: query, search_type
- **Documentation**: Legacy search function


## utils/voice_interaction.py

### process_voice_command

- **Category**: voice_interface
- **Line**: 243
- **Arguments**: audio_data, user_id
- **Documentation**: Process a voice command from start to finish

Args:
    audio_data: Raw audio data from client
    user_id: User ID for personalization

Returns:
    Dict with command processing results

### text_to_speech

- **Category**: voice_interface
- **Line**: 140
- **Arguments**: text, user_id
- **Documentation**: Convert text to speech using OpenAI TTS

Args:
    text: Text to convert to speech
    user_id: Optional user ID for personalization

Returns:
    Dict containing speech data and metadata

### transcribe_audio

- **Category**: voice_interface
- **Line**: 70
- **Arguments**: audio_data, user_id
- **Documentation**: Transcribe audio data to text using OpenAI Whisper

Args:
    audio_data: Raw audio data as bytes
    user_id: User ID for tracking and personalization

Returns:
    Dict containing transcription result and metadata


## utils/youtube_helper.py

### add_video_to_playlist

- **Category**: services
- **Line**: 300
- **Arguments**: service, playlist_id, video_id
- **Documentation**: Add a video to a playlist

### analyze_video_content

- **Category**: ai_services
- **Line**: 440
- **Arguments**: service, video_id, openai_client
- **Documentation**: Analyze the content and comments of a video using AI

### create_playlist

- **Category**: services
- **Line**: 269
- **Arguments**: service, title, description, privacy_status
- **Documentation**: Create a new playlist

### create_recovery_playlist

- **Category**: services
- **Line**: 357
- **Arguments**: service, title, description
- **Documentation**: Create a playlist with recovery-related videos

### create_topical_playlist

- **Category**: services
- **Line**: 547
- **Arguments**: service, topic, description, max_videos
- **Documentation**: Create a playlist based on a specific topic

### get_channel_info

- **Category**: services
- **Line**: 105
- **Arguments**: service, channel_id
- **Documentation**: Get information about a YouTube channel

### get_channel_videos

- **Category**: services
- **Line**: 140
- **Arguments**: service, channel_id, max_results
- **Documentation**: Get videos from a channel

### get_playlist_items

- **Category**: services
- **Line**: 239
- **Arguments**: service, playlist_id, max_results
- **Documentation**: Get videos in a playlist

### get_playlists

- **Category**: services
- **Line**: 210
- **Arguments**: service, user_id, max_results
- **Documentation**: Get playlists created by the authenticated user

### get_recommended_videos

- **Category**: services
- **Line**: 180
- **Arguments**: service, video_id, max_results
- **Documentation**: Get videos related to a specific video

### get_video_comments

- **Category**: services
- **Line**: 516
- **Arguments**: service, video_id, max_results
- **Documentation**: Get comments for a video

### get_video_details

- **Category**: ai_services
- **Line**: 68
- **Arguments**: service, video_id
- **Documentation**: Get detailed information about a video

### get_youtube_service

- **Category**: integrations
- **Line**: 11
- **Arguments**: user_connection
- **Documentation**: Build and return a YouTube service object from user connection data

### search_guided_meditations

- **Category**: search
- **Line**: 384
- **Arguments**: service, duration_min, duration_max, max_results
- **Documentation**: Search for guided meditation videos with optional duration filters

### search_recovery_videos

- **Category**: search
- **Line**: 327
- **Arguments**: service, max_results
- **Documentation**: Search for AA recovery-related videos

### search_videos

- **Category**: search
- **Line**: 31
- **Arguments**: service, query, max_results, category
- **Documentation**: Search for videos by keyword and category

