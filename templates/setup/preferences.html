{% extends "setup/layout.html" %}

{% block title %}Your Preferences{% endblock %}

{% block setup_content %}
<div class="setup-preferences">
    <div class="row justify-content-center">
        <div class="col-lg-10">
            <div class="setup-card">
                <div class="setup-card-body">
                    <h2 class="setup-card-title">Set Your Preferences</h2>
                    <p class="text-center mb-4">Customize how you interact with your assistant and how it responds to you.</p>
                    
                    <form action="{{ url_for('setup.preferences_save') }}" method="post">
                        <div class="row">
                            <div class="col-md-6">
                                <h4 class="mb-3">Interface Preferences</h4>
                                
                                <div class="setup-form-group">
                                    <label for="theme" class="setup-label">Interface Theme</label>
                                    <select class="form-select" id="theme" name="theme">
                                        <option value="light" {% if settings and settings.theme == 'light' %}selected{% endif %}>Light</option>
                                        <option value="dark" {% if not settings or settings.theme == 'dark' %}selected{% endif %}>Dark</option>
                                        <option value="auto" {% if settings and settings.theme == 'auto' %}selected{% endif %}>Auto (follow system)</option>
                                    </select>
                                </div>
                                
                                <div class="setup-form-group">
                                    <label for="language" class="setup-label">Preferred Language</label>
                                    <select class="form-select" id="language" name="language">
                                        <option value="en-US" {% if not settings or settings.preferred_language == 'en-US' %}selected{% endif %}>English (US)</option>
                                        <option value="en-GB" {% if settings and settings.preferred_language == 'en-GB' %}selected{% endif %}>English (UK)</option>
                                        <option value="es-ES" {% if settings and settings.preferred_language == 'es-ES' %}selected{% endif %}>Spanish</option>
                                        <option value="fr-FR" {% if settings and settings.preferred_language == 'fr-FR' %}selected{% endif %}>French</option>
                                        <option value="de-DE" {% if settings and settings.preferred_language == 'de-DE' %}selected{% endif %}>German</option>
                                        <option value="ja-JP" {% if settings and settings.preferred_language == 'ja-JP' %}selected{% endif %}>Japanese</option>
                                    </select>
                                </div>
                                
                                <div class="setup-form-group">
                                    <label for="difficulty" class="setup-label">Conversation Complexity</label>
                                    <select class="form-select" id="difficulty" name="difficulty">
                                        <option value="beginner" {% if settings and settings.conversation_difficulty == 'beginner' %}selected{% endif %}>
                                            Beginner - Simple, everyday language
                                        </option>
                                        <option value="intermediate" {% if not settings or settings.conversation_difficulty == 'intermediate' %}selected{% endif %}>
                                            Intermediate - Balanced, conversational style
                                        </option>
                                        <option value="advanced" {% if settings and settings.conversation_difficulty == 'advanced' %}selected{% endif %}>
                                            Advanced - More technical, detailed explanations
                                        </option>
                                        <option value="expert" {% if settings and settings.conversation_difficulty == 'expert' %}selected{% endif %}>
                                            Expert - Highly technical, specialized terminology
                                        </option>
                                    </select>
                                </div>
                                
                                <div class="form-check form-switch mt-4">
                                    <input class="form-check-input" type="checkbox" id="enable_voice" name="enable_voice" 
                                           {% if settings and settings.enable_voice_responses %}checked{% endif %}>
                                    <label class="form-check-label" for="enable_voice">Enable voice responses</label>
                                    <div class="form-text">Allow your assistant to respond with spoken audio.</div>
                                </div>
                            </div>
                            
                            <div class="col-md-6">
                                <h4 class="mb-3">AI Behavior</h4>
                                
                                <div class="setup-form-group">
                                    <label for="ai_name" class="setup-label">Assistant Name</label>
                                    <input type="text" class="form-control" id="ai_name" name="ai_name" 
                                           value="{{ settings.ai_name if settings else 'NOUS' }}">
                                </div>
                                
                                <div class="setup-form-group">
                                    <label for="ai_personality" class="setup-label">Personality</label>
                                    <select class="form-select" id="ai_personality" name="ai_personality">
                                        <option value="helpful" {% if not settings or settings.ai_personality == 'helpful' %}selected{% endif %}>Helpful & Supportive</option>
                                        <option value="friendly" {% if settings and settings.ai_personality == 'friendly' %}selected{% endif %}>Friendly & Casual</option>
                                        <option value="professional" {% if settings and settings.ai_personality == 'professional' %}selected{% endif %}>Professional & Efficient</option>
                                        <option value="witty" {% if settings and settings.ai_personality == 'witty' %}selected{% endif %}>Witty & Humorous</option>
                                        <option value="encouraging" {% if settings and settings.ai_personality == 'encouraging' %}selected{% endif %}>Encouraging & Motivational</option>
                                    </select>
                                </div>
                                
                                <div class="setup-form-group">
                                    <label for="ai_formality" class="setup-label">Formality Level</label>
                                    <select class="form-select" id="ai_formality" name="ai_formality">
                                        <option value="casual" {% if not settings or settings.ai_formality == 'casual' %}selected{% endif %}>Casual</option>
                                        <option value="neutral" {% if settings and settings.ai_formality == 'neutral' %}selected{% endif %}>Neutral</option>
                                        <option value="formal" {% if settings and settings.ai_formality == 'formal' %}selected{% endif %}>Formal</option>
                                    </select>
                                </div>
                                
                                <div class="setup-form-group">
                                    <label for="ai_verbosity" class="setup-label">Response Length</label>
                                    <select class="form-select" id="ai_verbosity" name="ai_verbosity">
                                        <option value="concise" {% if settings and settings.ai_verbosity == 'concise' %}selected{% endif %}>Concise</option>
                                        <option value="balanced" {% if not settings or settings.ai_verbosity == 'balanced' %}selected{% endif %}>Balanced</option>
                                        <option value="detailed" {% if settings and settings.ai_verbosity == 'detailed' %}selected{% endif %}>Detailed</option>
                                    </select>
                                </div>
                                
                                <div class="setup-form-group">
                                    <label for="ai_enthusiasm" class="setup-label">Enthusiasm Level</label>
                                    <select class="form-select" id="ai_enthusiasm" name="ai_enthusiasm">
                                        <option value="low" {% if settings and settings.ai_enthusiasm == 'low' %}selected{% endif %}>Low</option>
                                        <option value="moderate" {% if not settings or settings.ai_enthusiasm == 'moderate' %}selected{% endif %}>Moderate</option>
                                        <option value="high" {% if settings and settings.ai_enthusiasm == 'high' %}selected{% endif %}>High</option>
                                    </select>
                                </div>
                                
                                <div class="setup-form-group">
                                    <label for="ai_emoji_usage" class="setup-label">Emoji Usage</label>
                                    <select class="form-select" id="ai_emoji_usage" name="ai_emoji_usage">
                                        <option value="none" {% if settings and settings.ai_emoji_usage == 'none' %}selected{% endif %}>None</option>
                                        <option value="occasional" {% if not settings or settings.ai_emoji_usage == 'occasional' %}selected{% endif %}>Occasional</option>
                                        <option value="frequent" {% if settings and settings.ai_emoji_usage == 'frequent' %}selected{% endif %}>Frequent</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        
                        <div class="setup-nav">
                            <a href="{{ url_for('setup.personalize') }}" class="btn btn-outline-secondary">
                                <i class="fas fa-arrow-left me-2"></i> Back
                            </a>
                            <button type="submit" class="btn btn-primary">
                                Continue <i class="fas fa-arrow-right ms-2"></i>
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}