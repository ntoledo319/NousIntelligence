TITLE: â€œDoc Rebuild v2-PY â€” Flask, Sphinx, Swagger, Standard-File Enforcerâ€

# â€”â€”â€” 0. PREP â€”â€”â€”
â€¢ Install tooling:  
  replit.nix += { pkgs.python311Full pkgs.graphviz pkgs.nodejs pkgs.git };  
  pip install sphinx sphinx-autobuild sphinx-autodoc-typehints sphinxcontrib-mermaid autoapi pdoc bandit flake8 flask-smorest apispec[marshmallow] sphinx_rtd_theme;  # ğŸ” Sphinx & pals [oai_citation:0â€¡sphinx-doc.org](https://www.sphinx-doc.org/en/master/tutorial/automatic-doc-generation.html?utm_source=chatgpt.com) [oai_citation:1â€¡sphinx-doc.org](https://www.sphinx-doc.org/en/master/usage/extensions/autodoc.html?utm_source=chatgpt.com) [oai_citation:2â€¡github.com](https://github.com/mgaitan/sphinxcontrib-mermaid?utm_source=chatgpt.com) [oai_citation:3â€¡pypi.org](https://pypi.org/project/sphinxcontrib-mermaid/?utm_source=chatgpt.com)  
  npm i -g markdown-link-check lighthouse-ci;  # link & perf audits [oai_citation:4â€¡github.com](https://github.com/tcort/markdown-link-check?utm_source=chatgpt.com) [oai_citation:5â€¡npmjs.com](https://www.npmjs.com/package/markdown-link-check/v/3.7.3?utm_source=chatgpt.com)  
â€¢ checkpoint â€œdeps-installedâ€.

# â€”â€”â€” 1. SOURCE SCAN â€”â€”â€”
â€¢ **Sphinx + AutoAPI** â†’ build HTML docs from every `.py` (docstrings + type hints). [oai_citation:6â€¡sphinx-doc.org](https://www.sphinx-doc.org/en/master/tutorial/automatic-doc-generation.html?utm_source=chatgpt.com) [oai_citation:7â€¡sphinx-doc.org](https://www.sphinx-doc.org/en/master/usage/extensions/autodoc.html?utm_source=chatgpt.com)  
â€¢ **pdoc** fallback for any module AutoAPI skips (keeps coverage 100 %). [oai_citation:8â€¡pdoc.dev](https://pdoc.dev/?utm_source=chatgpt.com) [oai_citation:9â€¡pdoc3.github.io](https://pdoc3.github.io/pdoc/?utm_source=chatgpt.com)  
â€¢ **Flask-Smorest / apispec** â†’ spit OpenAPI 3.1 â†’ `docs/api/openapi.yaml`, serve Swagger UI at `/docs/api`. [oai_citation:10â€¡obikastanya.medium.com](https://obikastanya.medium.com/generate-automated-restfulapi-documentation-using-swagger-and-flask-de647559dd50?utm_source=chatgpt.com) [oai_citation:11â€¡stackoverflow.com](https://stackoverflow.com/questions/75840827/how-to-properly-generate-a-documentation-with-swagger-for-flask?utm_source=chatgpt.com)  
â€¢ **Bandit & Flake8** â†’ security + style HTML reports â†’ `docs/reports/`. [oai_citation:12â€¡github.com](https://github.com/PyCQA/bandit?utm_source=chatgpt.com) [oai_citation:13â€¡bandit.readthedocs.io](https://bandit.readthedocs.io/?utm_source=chatgpt.com) [oai_citation:14â€¡flake8.pycqa.org](https://flake8.pycqa.org/?utm_source=chatgpt.com) [oai_citation:15â€¡medium.com](https://medium.com/python-pandemonium/what-is-flake8-and-why-we-should-use-it-b89bd78073f2?utm_source=chatgpt.com)  
â€¢ **Mermaid diagrams**:  
  â€“ ER (SQLAlchemy inspect) â†’ `schema.mmd`.  
  â€“ Sequence diagram for login â†’ DB flow â†’ `flow.mmd`.  
  â€“ Use `sphinxcontrib-mermaid` to render in docs. [oai_citation:16â€¡github.com](https://github.com/mgaitan/sphinxcontrib-mermaid?utm_source=chatgpt.com) [oai_citation:17â€¡pypi.org](https://pypi.org/project/sphinxcontrib-mermaid/?utm_source=chatgpt.com)  
â€¢ `git ls-files '*.*' | egrep -i '(doc|guide|notes|spec|howto).(md|rst|adoc)'` â†’ enqueue ALL weird docs for rewrite.  
â€¢ checkpoint â€œraw-docsâ€.

# â€”â€”â€” 2. STANDARD FILE ENFORCER â€”â€”â€”
For each file below, create if missing **or** patch body, keep filename/front-matter intact:  
  README.md Â· LICENSE Â· CONTRIBUTING.md Â· CODE_OF_CONDUCT.md (Contributor Covenant 2.1) Â· SECURITY.md Â· CHANGELOG.md (Keep-a-Changelog) Â· ARCHITECTURE.md.  
Checkpoint â€œstd-files-okâ€.

# â€”â€”â€” 3. QUALITY GATES â€”â€”â€”
â€¢ `markdown-link-check` every markdown; fail on 4xx/5xx. [oai_citation:18â€¡github.com](https://github.com/tcort/markdown-link-check?utm_source=chatgpt.com) [oai_citation:19â€¡npmjs.com](https://www.npmjs.com/package/markdown-link-check/v/3.7.3?utm_source=chatgpt.com)  
â€¢ `lhci autorun` on built docs; enforce perf & a11y â‰¥ 90.  
Checkpoint â€œquality-greenâ€.

# â€”â€”â€” 4. CI / CD â€”â€”â€”
â€¢ `.github/workflows/docs.yml` runs steps 1-3 on push to main, caches pip + node + sphinx.  
â€¢ Deploy `docs/_build/html` to `gh-pages` with **peaceiris/actions-gh-pages**. [oai_citation:20â€¡github.com](https://github.com/peaceiris/actions-gh-pages?utm_source=chatgpt.com) [oai_citation:21â€¡github.com](https://github.com/marketplace/actions/github-pages-action?utm_source=chatgpt.com)  
Checkpoint â€œci-readyâ€.

# â€”â€”â€” 5. MERGE & RELEASE â€”â€”â€”
â€¢ Overwrite bodies of all docs (including funky names).  
â€¢ Append CHANGELOG: â€œRebuilt docs from live code â€“ $(date +%Y-%m-%d)â€.  
â€¢ Commit: `docs(rebuild): flask-sphinx-swagger regen + std files`.

ACCEPTANCE CRITERIA
âœ“ Sphinx HTML renders (search works, Mermaid diagrams visible).  
âœ“ Swagger UI live at `/docs/api`.  
âœ“ Bandit & Flake8 reports show **0 high-severity** issues.  
âœ“ README, CONTRIBUTING, LICENSE, CODE_OF_CONDUCT, SECURITY, CHANGELOG, ARCHITECTURE present and current.  
âœ“ markdown-link-check & Lighthouse CI pass.  
âœ“ GitHub Action pushes docs to `gh-pages`.

END OF PROMPT